build-spike:
  stage: tooling
  image: ubuntu:latest
  script:
    - apt-get update && apt-get install git -y
    - git clone https://github.com/riscv-software-src/riscv-isa-sim.git
    - cd riscv-isa-sim
    - mkdir build && cd build
    - ../configure --prefix=/usr/local
    - make install

stages:
- tooling
- build
- test

include:
  # Secret Detection customization: https://docs.gitlab.com/ee/user/application_security/secret_detection/#customizing-settings
  - template: Security/Secret-Detection.gitlab-ci.yml
