<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>riscv_vext_regs</title></head>
<body>
<h1>riscv_vext_regs.sail (0/175) 0%</h1>
<code style="display: block">
/*=================================================================================*/<br>
/*&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2021-2023&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Authors&nbsp;from&nbsp;RIOS&nbsp;Lab,&nbsp;Tsinghua&nbsp;University:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Xinlai&nbsp;Wan&nbsp;&lt;xinlai.w@rioslab.org&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Xi&nbsp;Wang&nbsp;&lt;xi.w@rioslab.org&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yifei&nbsp;Zhu&nbsp;&lt;yifei.z@rioslab.org&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shenwei&nbsp;Hu&nbsp;&lt;shenwei.h@rioslab.org&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kalvin&nbsp;Vu&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Other&nbsp;contributors:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jessica&nbsp;Clarke&nbsp;&lt;jrtc27@jrtc27.com&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Victor&nbsp;Moya&nbsp;&lt;victor.moya@semidynamics.com&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;Redistribution&nbsp;and&nbsp;use&nbsp;in&nbsp;source&nbsp;and&nbsp;binary&nbsp;forms,&nbsp;with&nbsp;or&nbsp;without&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;modification,&nbsp;are&nbsp;permitted&nbsp;provided&nbsp;that&nbsp;the&nbsp;following&nbsp;conditions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;are&nbsp;met:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;1.&nbsp;Redistributions&nbsp;of&nbsp;source&nbsp;code&nbsp;must&nbsp;retain&nbsp;the&nbsp;above&nbsp;copyright&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;2.&nbsp;Redistributions&nbsp;in&nbsp;binary&nbsp;form&nbsp;must&nbsp;reproduce&nbsp;the&nbsp;above&nbsp;copyright&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer&nbsp;in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;documentation&nbsp;and/or&nbsp;other&nbsp;materials&nbsp;provided&nbsp;with&nbsp;the&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;distribution.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;PROVIDED&nbsp;BY&nbsp;THE&nbsp;AUTHOR&nbsp;AND&nbsp;CONTRIBUTORS&nbsp;``AS&nbsp;IS''&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;AND&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED&nbsp;WARRANTIES,&nbsp;INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;LIMITED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;TO,&nbsp;THE&nbsp;IMPLIED&nbsp;WARRANTIES&nbsp;OF&nbsp;MERCHANTABILITY&nbsp;AND&nbsp;FITNESS&nbsp;FOR&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;PARTICULAR&nbsp;PURPOSE&nbsp;ARE&nbsp;DISCLAIMED.&nbsp;&nbsp;IN&nbsp;NO&nbsp;EVENT&nbsp;SHALL&nbsp;THE&nbsp;AUTHOR&nbsp;OR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;CONTRIBUTORS&nbsp;BE&nbsp;LIABLE&nbsp;FOR&nbsp;ANY&nbsp;DIRECT,&nbsp;INDIRECT,&nbsp;INCIDENTAL,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;SPECIAL,&nbsp;EXEMPLARY,&nbsp;OR&nbsp;CONSEQUENTIAL&nbsp;DAMAGES&nbsp;(INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;LIMITED&nbsp;TO,&nbsp;PROCUREMENT&nbsp;OF&nbsp;SUBSTITUTE&nbsp;GOODS&nbsp;OR&nbsp;SERVICES;&nbsp;LOSS&nbsp;OF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;USE,&nbsp;DATA,&nbsp;OR&nbsp;PROFITS;&nbsp;OR&nbsp;BUSINESS&nbsp;INTERRUPTION)&nbsp;HOWEVER&nbsp;CAUSED&nbsp;AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;ON&nbsp;ANY&nbsp;THEORY&nbsp;OF&nbsp;LIABILITY,&nbsp;WHETHER&nbsp;IN&nbsp;CONTRACT,&nbsp;STRICT&nbsp;LIABILITY,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;OR&nbsp;TORT&nbsp;(INCLUDING&nbsp;NEGLIGENCE&nbsp;OR&nbsp;OTHERWISE)&nbsp;ARISING&nbsp;IN&nbsp;ANY&nbsp;WAY&nbsp;OUT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;OF&nbsp;THE&nbsp;USE&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE,&nbsp;EVEN&nbsp;IF&nbsp;ADVISED&nbsp;OF&nbsp;THE&nbsp;POSSIBILITY&nbsp;OF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;SUCH&nbsp;DAMAGE.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*=================================================================================*/<br>
<br>
/*&nbsp;vector&nbsp;registers&nbsp;*/<br>
register&nbsp;vr0&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr1&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr2&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr3&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr4&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr5&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr6&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr7&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr8&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr9&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr10&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr11&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr12&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr13&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr14&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr15&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr16&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr17&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr18&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr19&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr20&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr21&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr22&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr23&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr24&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr25&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr26&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr27&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr28&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr29&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr30&nbsp;:&nbsp;vregtype<br>
register&nbsp;vr31&nbsp;:&nbsp;vregtype<br>
<br>
val&nbsp;vreg_name&nbsp;:&nbsp;bits(5)&nbsp;&lt;-&gt;&nbsp;string<br>
mapping&nbsp;vreg_name&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00000&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v0&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00001&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v1&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00010&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v2&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00011&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v3&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00100&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v4&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00101&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v5&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00110&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v6&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00111&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v7&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01000&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v8&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01001&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v9&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01010&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v10&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01011&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v11&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01100&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v12&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01101&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v13&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01110&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v14&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01111&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v15&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10000&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v16&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10001&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v17&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10010&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v18&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10011&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v19&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10100&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v20&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10101&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v21&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10110&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v22&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10111&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v23&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11000&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v24&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11001&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v25&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11010&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v26&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11011&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v27&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11100&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v28&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11101&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v29&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11110&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v30&quot;</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11111&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;v31&quot;</span><br>
}<br>
<br>
function&nbsp;dirty_v_context()&nbsp;-&gt;&nbsp;unit&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;assert(sys_enable_vext());<br>
&nbsp;&nbsp;mstatus-&gt;VS()&nbsp;=&nbsp;extStatus_to_bits(Dirty);<br>
&nbsp;&nbsp;mstatus-&gt;SD()&nbsp;=&nbsp;0b1<br>
}</span><br>
<br>
function&nbsp;dirty_v_context_if_present()&nbsp;-&gt;&nbsp;unit&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">if&nbsp;sys_enable_vext()&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 70%)">dirty_v_context()</span></span><span style="background-color: hsl(0, 85%, 80%)">&#171;Invisible branch not taken here&#187</span><br>
}</span><br>
<br>
val&nbsp;rV&nbsp;:&nbsp;forall&nbsp;'n,&nbsp;0&nbsp;&lt;=&nbsp;'n&nbsp;&lt;&nbsp;32.&nbsp;regno('n)&nbsp;-&gt;&nbsp;vregtype<br>
function&nbsp;rV&nbsp;r&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;zero_vreg&nbsp;:&nbsp;vregtype&nbsp;=&nbsp;zeros();<br>
&nbsp;&nbsp;let&nbsp;v&nbsp;:&nbsp;vregtype&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">match&nbsp;r&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr0</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr1</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr2</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr3</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr4</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr5</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr6</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr7</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr8</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr9</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr10</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr11</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr12</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr13</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;14&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr14</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr15</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr16</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;17&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr17</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;18&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr18</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr19</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr20</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr21</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;22&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr22</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;23&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr23</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr24</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;25&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr25</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr26</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;27&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr27</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;28&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr28</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;29&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr29</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr30</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;31&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr31</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{assert(false,&nbsp;&quot;invalid&nbsp;vector&nbsp;register&nbsp;number&quot;);&nbsp;zero_vreg}</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;v<br>
}</span><br>
<br>
val&nbsp;wV&nbsp;:&nbsp;forall&nbsp;'n,&nbsp;0&nbsp;&lt;=&nbsp;'n&nbsp;&lt;&nbsp;32.&nbsp;(regno('n),&nbsp;vregtype)&nbsp;-&gt;&nbsp;unit<br>
function&nbsp;wV&nbsp;(r,&nbsp;in_v)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;v&nbsp;=&nbsp;in_v;<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">match&nbsp;r&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr0&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr1&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr2&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr3&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr4&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr5&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;6&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr6&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;7&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr7&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;8&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr8&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;9&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr9&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr10&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;11&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr11&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;12&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr12&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;13&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr13&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;14&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr14&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;15&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr15&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;16&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr16&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;17&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr17&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;18&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr18&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;19&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr19&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;20&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr20&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;21&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr21&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;22&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr22&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;23&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr23&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;24&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr24&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;25&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr25&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;26&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr26&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;27&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr27&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;28&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr28&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;29&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr29&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;30&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr30&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;31&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">vr31&nbsp;=&nbsp;v</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">assert(false,&nbsp;&quot;invalid&nbsp;vector&nbsp;register&nbsp;number&quot;)</span><br>
&nbsp;&nbsp;}</span>;<br>
<br>
&nbsp;&nbsp;dirty_v_context();<br>
<br>
&nbsp;&nbsp;let&nbsp;VLEN&nbsp;=&nbsp;unsigned(vlenb)&nbsp;*&nbsp;8;<br>
&nbsp;&nbsp;assert(<span style="background-color: hsl(0, 85%, 75%)">0&nbsp;&lt;&nbsp;VLEN&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 70%)">VLEN&nbsp;&lt;=&nbsp;sizeof(vlenmax)</span></span>);<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">if&nbsp;&nbsp;&nbsp;get_config_print_reg()<br>
&nbsp;&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 70%)">print_reg(&quot;v&quot;&nbsp;^&nbsp;string_of_int(r)&nbsp;^&nbsp;&quot;&nbsp;&lt;-&nbsp;&quot;&nbsp;^&nbsp;BitStr(v[VLEN&nbsp;-&nbsp;1&nbsp;..&nbsp;0]))</span></span><span style="background-color: hsl(0, 85%, 80%)">&#171;Invisible branch not taken here&#187</span>;<br>
}</span><br>
<br>
function&nbsp;rV_bits(i:&nbsp;bits(5))&nbsp;-&gt;&nbsp;vregtype&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">rV(unsigned(i))</span><br>
<br>
function&nbsp;wV_bits(i:&nbsp;bits(5),&nbsp;data:&nbsp;vregtype)&nbsp;-&gt;&nbsp;unit&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;wV(unsigned(i))&nbsp;=&nbsp;data<br>
}</span><br>
<br>
overload&nbsp;V&nbsp;=&nbsp;{rV_bits,&nbsp;wV_bits,&nbsp;rV,&nbsp;wV}<br>
<br>
val&nbsp;init_vregs&nbsp;:&nbsp;unit&nbsp;-&gt;&nbsp;unit<br>
function&nbsp;init_vregs&nbsp;()&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;let&nbsp;zero_vreg&nbsp;:&nbsp;vregtype&nbsp;=&nbsp;zeros();<br>
&nbsp;&nbsp;vr0&nbsp;&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr1&nbsp;&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr2&nbsp;&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr3&nbsp;&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr4&nbsp;&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr5&nbsp;&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr6&nbsp;&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr7&nbsp;&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr8&nbsp;&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr9&nbsp;&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr10&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr11&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr12&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr13&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr14&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr15&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr16&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr17&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr18&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr19&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr20&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr21&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr22&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr23&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr24&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr25&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr26&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr27&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr28&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr29&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr30&nbsp;=&nbsp;zero_vreg;<br>
&nbsp;&nbsp;vr31&nbsp;=&nbsp;zero_vreg<br>
}<br>
<br>
/*&nbsp;Vector&nbsp;CSR&nbsp;*/<br>
bitfield&nbsp;Vcsr&nbsp;:&nbsp;bits(3)&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;vxrm&nbsp;&nbsp;:&nbsp;2&nbsp;..&nbsp;1,<br>
&nbsp;&nbsp;vxsat&nbsp;:&nbsp;0<br>
}<br>
register&nbsp;vcsr&nbsp;:&nbsp;Vcsr<br>
<br>
val&nbsp;ext_write_vcsr&nbsp;:&nbsp;(bits(2),&nbsp;bits(1))&nbsp;-&gt;&nbsp;unit<br>
function&nbsp;ext_write_vcsr&nbsp;(vxrm_val,&nbsp;vxsat_val)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;vcsr-&gt;vxrm()&nbsp;&nbsp;=&nbsp;vxrm_val;&nbsp;/*&nbsp;Note:&nbsp;frm&nbsp;can&nbsp;be&nbsp;an&nbsp;illegal&nbsp;value,&nbsp;101,&nbsp;110,&nbsp;111&nbsp;*/<br>
&nbsp;&nbsp;vcsr-&gt;vxsat()&nbsp;=&nbsp;vxsat_val;<br>
&nbsp;&nbsp;dirty_v_context_if_present()<br>
}</span><br>
<br>
/*&nbsp;num_elem&nbsp;means&nbsp;max(VLMAX,VLEN/SEW))&nbsp;according&nbsp;to&nbsp;Section&nbsp;5.4&nbsp;of&nbsp;RVV&nbsp;spec&nbsp;*/<br>
val&nbsp;get_num_elem&nbsp;:&nbsp;(int,&nbsp;int)&nbsp;-&gt;&nbsp;nat<br>
function&nbsp;get_num_elem(LMUL_pow,&nbsp;SEW)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;VLEN&nbsp;=&nbsp;unsigned(vlenb)&nbsp;*&nbsp;8;<br>
&nbsp;&nbsp;let&nbsp;LMUL_pow_reg&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 75%)">if&nbsp;LMUL_pow&nbsp;&lt;&nbsp;0&nbsp;then&nbsp;0&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 70%)">LMUL_pow</span></span>;<br>
&nbsp;&nbsp;/*&nbsp;Ignore&nbsp;lmul&nbsp;&lt;&nbsp;1&nbsp;so&nbsp;that&nbsp;the&nbsp;entire&nbsp;vreg&nbsp;is&nbsp;read,&nbsp;allowing&nbsp;all&nbsp;masking&nbsp;to<br>
&nbsp;&nbsp;&nbsp;*&nbsp;be&nbsp;handled&nbsp;in&nbsp;init_masked_result&nbsp;*/<br>
&nbsp;&nbsp;let&nbsp;num_elem&nbsp;=&nbsp;int_power(2,&nbsp;LMUL_pow_reg)&nbsp;*&nbsp;VLEN&nbsp;/&nbsp;SEW;<br>
&nbsp;&nbsp;assert(num_elem&nbsp;&gt;&nbsp;0);<br>
&nbsp;&nbsp;num_elem<br>
}</span><br>
<br>
/*&nbsp;Reads&nbsp;a&nbsp;single&nbsp;vreg&nbsp;into&nbsp;multiple&nbsp;elements&nbsp;*/<br>
val&nbsp;read_single_vreg&nbsp;:&nbsp;forall&nbsp;'n&nbsp;'m,&nbsp;'n&nbsp;&gt;=&nbsp;0.&nbsp;(int('n),&nbsp;int('m),&nbsp;regidx)&nbsp;-&gt;&nbsp;vector('n,&nbsp;dec,&nbsp;bits('m))<br>
function&nbsp;read_single_vreg(num_elem,&nbsp;SEW,&nbsp;vrid)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;bv&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;vregtype&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;V(vrid);<br>
&nbsp;&nbsp;var&nbsp;result&nbsp;:&nbsp;vector('n,&nbsp;dec,&nbsp;bits('m))&nbsp;=&nbsp;undefined;<br>
<br>
&nbsp;&nbsp;assert(<span style="background-color: hsl(0, 85%, 75%)">8&nbsp;&lt;=&nbsp;SEW&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 70%)">SEW&nbsp;&lt;=&nbsp;64</span></span>);<br>
&nbsp;&nbsp;foreach&nbsp;(i&nbsp;from&nbsp;0&nbsp;to&nbsp;(num_elem&nbsp;-&nbsp;1))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;start_index&nbsp;=&nbsp;i&nbsp;*&nbsp;SEW;<br>
&nbsp;&nbsp;&nbsp;&nbsp;result[i]&nbsp;=&nbsp;slice(bv,&nbsp;start_index,&nbsp;SEW);<br>
&nbsp;&nbsp;};<br>
<br>
&nbsp;&nbsp;result<br>
}</span><br>
<br>
/*&nbsp;Writes&nbsp;multiple&nbsp;elements&nbsp;into&nbsp;a&nbsp;single&nbsp;vreg&nbsp;*/<br>
val&nbsp;write_single_vreg&nbsp;:&nbsp;forall&nbsp;'n&nbsp;'m,&nbsp;'n&nbsp;&gt;=&nbsp;0.&nbsp;(int('n),&nbsp;int('m),&nbsp;regidx,&nbsp;vector('n,&nbsp;dec,&nbsp;bits('m)))&nbsp;-&gt;&nbsp;unit<br>
function&nbsp;write_single_vreg(num_elem,&nbsp;SEW,&nbsp;vrid,&nbsp;v)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;r&nbsp;:&nbsp;vregtype&nbsp;=&nbsp;zeros();<br>
<br>
&nbsp;&nbsp;assert(<span style="background-color: hsl(0, 85%, 75%)">8&nbsp;&lt;=&nbsp;SEW&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 70%)">SEW&nbsp;&lt;=&nbsp;64</span></span>);<br>
&nbsp;&nbsp;foreach&nbsp;(i&nbsp;from&nbsp;(num_elem&nbsp;-&nbsp;1)&nbsp;downto&nbsp;0)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;r&nbsp;&lt;&lt;&nbsp;SEW;<br>
&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;r&nbsp;|&nbsp;zero_extend(v[i]);<br>
&nbsp;&nbsp;};<br>
<br>
&nbsp;&nbsp;V(vrid)&nbsp;=&nbsp;r<br>
}</span><br>
<br>
/*&nbsp;The&nbsp;general&nbsp;vreg&nbsp;reading&nbsp;operation&nbsp;with&nbsp;num_elem&nbsp;as&nbsp;max(VLMAX,VLEN/SEW))&nbsp;*/<br>
val&nbsp;read_vreg&nbsp;:&nbsp;forall&nbsp;'n&nbsp;'m&nbsp;'p,&nbsp;'n&nbsp;&gt;=&nbsp;0.&nbsp;(int('n),&nbsp;int('m),&nbsp;int('p),&nbsp;regidx)&nbsp;-&gt;&nbsp;vector('n,&nbsp;dec,&nbsp;bits('m))<br>
function&nbsp;read_vreg(num_elem,&nbsp;SEW,&nbsp;LMUL_pow,&nbsp;vrid)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;var&nbsp;result&nbsp;:&nbsp;vector('n,&nbsp;dec,&nbsp;bits('m))&nbsp;=&nbsp;undefined;<br>
&nbsp;&nbsp;let&nbsp;VLEN&nbsp;=&nbsp;unsigned(vlenb)&nbsp;*&nbsp;8;<br>
&nbsp;&nbsp;let&nbsp;LMUL_pow_reg&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 75%)">if&nbsp;LMUL_pow&nbsp;&lt;&nbsp;0&nbsp;then&nbsp;0&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 70%)">LMUL_pow</span></span>;<br>
<br>
&nbsp;&nbsp;/*&nbsp;Check&nbsp;for&nbsp;valid&nbsp;vrid&nbsp;*/<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">if&nbsp;unsigned(vrid)&nbsp;+&nbsp;2&nbsp;^&nbsp;LMUL_pow_reg&nbsp;&gt;&nbsp;32&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;vrid&nbsp;would&nbsp;read&nbsp;past&nbsp;largest&nbsp;vreg&nbsp;(v31)&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;assert(false,&nbsp;&quot;invalid&nbsp;register&nbsp;group:&nbsp;vrid&nbsp;overflow&nbsp;the&nbsp;largest&nbsp;number&quot;)<br>
&nbsp;&nbsp;}</span>&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 70%)">if&nbsp;unsigned(vrid)&nbsp;%&nbsp;(2&nbsp;^&nbsp;LMUL_pow_reg)&nbsp;!=&nbsp;0&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 65%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;vrid&nbsp;must&nbsp;be&nbsp;a&nbsp;multiple&nbsp;of&nbsp;emul&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;assert(false,&nbsp;&quot;invalid&nbsp;register&nbsp;group:&nbsp;vrid&nbsp;is&nbsp;not&nbsp;a&nbsp;multiple&nbsp;of&nbsp;EMUL&quot;)<br>
&nbsp;&nbsp;}</span>&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 65%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 60%)">if&nbsp;LMUL_pow&nbsp;&lt;&nbsp;0&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 55%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;read_single_vreg('n,&nbsp;SEW,&nbsp;vrid);<br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span>&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 55%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 50%)">let&nbsp;'num_elem_single&nbsp;:&nbsp;int&nbsp;=&nbsp;VLEN&nbsp;/&nbsp;SEW;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert('num_elem_single&nbsp;&gt;=&nbsp;0);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(i_lmul&nbsp;from&nbsp;0&nbsp;to&nbsp;(2&nbsp;^&nbsp;LMUL_pow_reg&nbsp;-&nbsp;1))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r_start_i&nbsp;:&nbsp;int&nbsp;=&nbsp;i_lmul&nbsp;*&nbsp;'num_elem_single;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r_end_i&nbsp;&nbsp;&nbsp;:&nbsp;int&nbsp;=&nbsp;r_start_i&nbsp;+&nbsp;'num_elem_single&nbsp;-&nbsp;1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;vrid_lmul&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;regidx&nbsp;=&nbsp;vrid&nbsp;+&nbsp;to_bits(5,&nbsp;i_lmul);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;single_result&nbsp;:&nbsp;vector('num_elem_single,&nbsp;dec,&nbsp;bits('m))&nbsp;=&nbsp;read_single_vreg('num_elem_single,&nbsp;SEW,&nbsp;vrid_lmul);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(r_i&nbsp;from&nbsp;r_start_i&nbsp;to&nbsp;r_end_i)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;s_i&nbsp;:&nbsp;int&nbsp;=&nbsp;r_i&nbsp;-&nbsp;r_start_i;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(<span style="background-color: hsl(0, 85%, 45%)">0&nbsp;&lt;=&nbsp;r_i&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 40%)">r_i&nbsp;&lt;&nbsp;num_elem</span></span>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(<span style="background-color: hsl(0, 85%, 45%)">0&nbsp;&lt;=&nbsp;s_i&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 40%)">s_i&nbsp;&lt;&nbsp;'num_elem_single</span></span>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result[r_i]&nbsp;=&nbsp;single_result[s_i];<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><br>
&nbsp;&nbsp;}</span></span></span>;<br>
<br>
&nbsp;&nbsp;result<br>
}</span><br>
<br>
/*&nbsp;Single&nbsp;element&nbsp;reading&nbsp;operation&nbsp;*/<br>
val&nbsp;read_single_element&nbsp;:&nbsp;forall&nbsp;'m&nbsp;'x,&nbsp;8&nbsp;&lt;=&nbsp;'m&nbsp;&lt;=&nbsp;128.&nbsp;(int('m),&nbsp;int('x),&nbsp;regidx)&nbsp;-&gt;&nbsp;bits('m)<br>
function&nbsp;read_single_element(EEW,&nbsp;index,&nbsp;vrid)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;VLEN&nbsp;=&nbsp;unsigned(vlenb)&nbsp;*&nbsp;8;<br>
&nbsp;&nbsp;assert(VLEN&nbsp;&gt;=&nbsp;EEW);<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;'elem_per_reg&nbsp;:&nbsp;int&nbsp;=&nbsp;VLEN&nbsp;/&nbsp;EEW;<br>
&nbsp;&nbsp;assert('elem_per_reg&nbsp;&gt;=&nbsp;0);<br>
&nbsp;&nbsp;let&nbsp;real_vrid&nbsp;&nbsp;:&nbsp;regidx&nbsp;=&nbsp;vrid&nbsp;+&nbsp;to_bits(5,&nbsp;index&nbsp;/&nbsp;'elem_per_reg);<br>
&nbsp;&nbsp;let&nbsp;real_index&nbsp;:&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;index&nbsp;%&nbsp;'elem_per_reg;<br>
&nbsp;&nbsp;let&nbsp;vrid_val&nbsp;:&nbsp;vector('elem_per_reg,&nbsp;dec,&nbsp;bits('m))&nbsp;=&nbsp;read_single_vreg('elem_per_reg,&nbsp;EEW,&nbsp;real_vrid);<br>
&nbsp;&nbsp;assert(<span style="background-color: hsl(0, 85%, 70%)">0&nbsp;&lt;=&nbsp;real_index&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 65%)">real_index&nbsp;&lt;&nbsp;'elem_per_reg</span></span>);<br>
&nbsp;&nbsp;vrid_val[real_index]</span><br>
}</span><br>
<br>
/*&nbsp;The&nbsp;general&nbsp;vreg&nbsp;writing&nbsp;operation&nbsp;with&nbsp;num_elem&nbsp;as&nbsp;max(VLMAX,VLEN/SEW))&nbsp;*/<br>
val&nbsp;write_vreg&nbsp;:&nbsp;forall&nbsp;'n&nbsp;'m&nbsp;'p,&nbsp;'n&nbsp;&gt;=&nbsp;0.&nbsp;(int('n),&nbsp;int('m),&nbsp;int('p),&nbsp;regidx,&nbsp;vector('n,&nbsp;dec,&nbsp;bits('m)))&nbsp;-&gt;&nbsp;unit<br>
function&nbsp;write_vreg(num_elem,&nbsp;SEW,&nbsp;LMUL_pow,&nbsp;vrid,&nbsp;vec)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;VLEN&nbsp;=&nbsp;unsigned(vlenb)&nbsp;*&nbsp;8;<br>
&nbsp;&nbsp;let&nbsp;LMUL_pow_reg&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 75%)">if&nbsp;LMUL_pow&nbsp;&lt;&nbsp;0&nbsp;then&nbsp;0&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 70%)">LMUL_pow</span></span>;<br>
<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;'num_elem_single&nbsp;&nbsp;:&nbsp;int&nbsp;=&nbsp;VLEN&nbsp;/&nbsp;SEW;<br>
&nbsp;&nbsp;assert('num_elem_single&nbsp;&gt;=&nbsp;0);<br>
&nbsp;&nbsp;foreach&nbsp;(i_lmul&nbsp;from&nbsp;0&nbsp;to&nbsp;(2&nbsp;^&nbsp;LMUL_pow_reg&nbsp;-&nbsp;1))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;single_vec&nbsp;:&nbsp;vector('num_elem_single,&nbsp;dec,&nbsp;bits('m))&nbsp;=&nbsp;undefined;<br>
&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;vrid_lmul&nbsp;&nbsp;:&nbsp;regidx&nbsp;=&nbsp;vrid&nbsp;+&nbsp;to_bits(5,&nbsp;i_lmul);<br>
&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r_start_i&nbsp;&nbsp;:&nbsp;int&nbsp;=&nbsp;i_lmul&nbsp;*&nbsp;'num_elem_single;<br>
&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r_end_i&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;int&nbsp;=&nbsp;r_start_i&nbsp;+&nbsp;'num_elem_single&nbsp;-&nbsp;1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(r_i&nbsp;from&nbsp;r_start_i&nbsp;to&nbsp;r_end_i)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;s_i&nbsp;:&nbsp;int&nbsp;=&nbsp;r_i&nbsp;-&nbsp;r_start_i;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(<span style="background-color: hsl(0, 85%, 70%)">0&nbsp;&lt;=&nbsp;r_i&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 65%)">r_i&nbsp;&lt;&nbsp;num_elem</span></span>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(<span style="background-color: hsl(0, 85%, 70%)">0&nbsp;&lt;=&nbsp;s_i&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 65%)">s_i&nbsp;&lt;&nbsp;'num_elem_single</span></span>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_vec[s_i]&nbsp;=&nbsp;vec[r_i]<br>
&nbsp;&nbsp;&nbsp;&nbsp;};<br>
&nbsp;&nbsp;&nbsp;&nbsp;write_single_vreg('num_elem_single,&nbsp;SEW,&nbsp;vrid_lmul,&nbsp;single_vec)<br>
&nbsp;&nbsp;}</span><br>
}</span><br>
<br>
/*&nbsp;Single&nbsp;element&nbsp;writing&nbsp;operation&nbsp;*/<br>
val&nbsp;write_single_element&nbsp;:&nbsp;forall&nbsp;'m&nbsp;'x,&nbsp;8&nbsp;&lt;=&nbsp;'m&nbsp;&lt;=&nbsp;128.&nbsp;(int('m),&nbsp;int('x),&nbsp;regidx,&nbsp;bits('m))&nbsp;-&gt;&nbsp;unit<br>
function&nbsp;write_single_element(EEW,&nbsp;index,&nbsp;vrid,&nbsp;value)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;VLEN&nbsp;=&nbsp;unsigned(vlenb)&nbsp;*&nbsp;8;<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;'elem_per_reg&nbsp;:&nbsp;int&nbsp;=&nbsp;VLEN&nbsp;/&nbsp;EEW;<br>
&nbsp;&nbsp;assert('elem_per_reg&nbsp;&gt;=&nbsp;0);<br>
&nbsp;&nbsp;let&nbsp;real_vrid&nbsp;&nbsp;:&nbsp;regidx&nbsp;=&nbsp;vrid&nbsp;+&nbsp;to_bits(5,&nbsp;index&nbsp;/&nbsp;'elem_per_reg);<br>
&nbsp;&nbsp;let&nbsp;real_index&nbsp;:&nbsp;int&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;index&nbsp;%&nbsp;'elem_per_reg;<br>
<br>
&nbsp;&nbsp;let&nbsp;vrid_val&nbsp;:&nbsp;vector('elem_per_reg,&nbsp;dec,&nbsp;bits('m))&nbsp;=&nbsp;read_single_vreg('elem_per_reg,&nbsp;EEW,&nbsp;real_vrid);<br>
&nbsp;&nbsp;r&nbsp;:&nbsp;vregtype&nbsp;=&nbsp;zeros();<br>
&nbsp;&nbsp;foreach&nbsp;(i&nbsp;from&nbsp;('elem_per_reg&nbsp;-&nbsp;1)&nbsp;downto&nbsp;0)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;r&nbsp;&lt;&lt;&nbsp;EEW;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">if&nbsp;i&nbsp;==&nbsp;real_index&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 65%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;r&nbsp;|&nbsp;zero_extend(value);<br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span>&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 65%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;r&nbsp;|&nbsp;zero_extend(vrid_val[i]);<br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><br>
&nbsp;&nbsp;};<br>
&nbsp;&nbsp;V(real_vrid)&nbsp;=&nbsp;r;</span><br>
}</span><br>
<br>
/*&nbsp;Mask&nbsp;register&nbsp;reading&nbsp;operation&nbsp;with&nbsp;num_elem&nbsp;as&nbsp;max(VLMAX,VLEN/SEW))&nbsp;*/<br>
val&nbsp;read_vmask&nbsp;:&nbsp;forall&nbsp;'n,&nbsp;'n&nbsp;&gt;=&nbsp;0.&nbsp;(int('n),&nbsp;bits(1),&nbsp;regidx)&nbsp;-&gt;&nbsp;vector('n,&nbsp;dec,&nbsp;bool)<br>
function&nbsp;read_vmask(num_elem,&nbsp;vm,&nbsp;vrid)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;VLEN&nbsp;=&nbsp;unsigned(vlenb)&nbsp;*&nbsp;8;<br>
&nbsp;&nbsp;assert(num_elem&nbsp;&lt;=&nbsp;sizeof(vlenmax));<br>
&nbsp;&nbsp;let&nbsp;vreg_val&nbsp;:&nbsp;vregtype&nbsp;=&nbsp;V(vrid);<br>
&nbsp;&nbsp;var&nbsp;result&nbsp;&nbsp;&nbsp;:&nbsp;vector('n,&nbsp;dec,&nbsp;bool)&nbsp;=&nbsp;undefined;<br>
<br>
&nbsp;&nbsp;foreach&nbsp;(i&nbsp;from&nbsp;0&nbsp;to&nbsp;(num_elem&nbsp;-&nbsp;1))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">if&nbsp;vm&nbsp;==&nbsp;0b1&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result[i]&nbsp;=&nbsp;true<br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span>&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result[i]&nbsp;=&nbsp;bit_to_bool(vreg_val[i])<br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><br>
&nbsp;&nbsp;};<br>
<br>
&nbsp;&nbsp;result<br>
}</span><br>
<br>
/*&nbsp;This&nbsp;is&nbsp;a&nbsp;special&nbsp;version&nbsp;of&nbsp;read_vmask&nbsp;for&nbsp;carry/borrow&nbsp;instructions,&nbsp;where&nbsp;vm=1&nbsp;means&nbsp;no&nbsp;carry&nbsp;*/<br>
val&nbsp;read_vmask_carry&nbsp;:&nbsp;forall&nbsp;'n,&nbsp;'n&nbsp;&gt;=&nbsp;0.&nbsp;(int('n),&nbsp;bits(1),&nbsp;regidx)&nbsp;-&gt;&nbsp;vector('n,&nbsp;dec,&nbsp;bool)<br>
function&nbsp;read_vmask_carry(num_elem,&nbsp;vm,&nbsp;vrid)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;VLEN&nbsp;=&nbsp;unsigned(vlenb)&nbsp;*&nbsp;8;<br>
&nbsp;&nbsp;assert(<span style="background-color: hsl(0, 85%, 75%)">0&nbsp;&lt;&nbsp;num_elem&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 70%)">num_elem&nbsp;&lt;=&nbsp;sizeof(vlenmax)</span></span>);<br>
&nbsp;&nbsp;let&nbsp;vreg_val&nbsp;:&nbsp;vregtype&nbsp;=&nbsp;V(vrid);<br>
&nbsp;&nbsp;var&nbsp;result&nbsp;&nbsp;&nbsp;:&nbsp;vector('n,&nbsp;dec,&nbsp;bool)&nbsp;=&nbsp;undefined;<br>
<br>
&nbsp;&nbsp;foreach&nbsp;(i&nbsp;from&nbsp;0&nbsp;to&nbsp;(num_elem&nbsp;-&nbsp;1))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">if&nbsp;vm&nbsp;==&nbsp;0b1&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result[i]&nbsp;=&nbsp;false<br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span>&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result[i]&nbsp;=&nbsp;bit_to_bool(vreg_val[i])<br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><br>
&nbsp;&nbsp;};<br>
<br>
&nbsp;&nbsp;result<br>
}</span><br>
<br>
/*&nbsp;Mask&nbsp;register&nbsp;writing&nbsp;operation&nbsp;with&nbsp;num_elem&nbsp;as&nbsp;max(VLMAX,VLEN/SEW))&nbsp;*/<br>
val&nbsp;write_vmask&nbsp;:&nbsp;forall&nbsp;'n,&nbsp;'n&nbsp;&gt;=&nbsp;0.&nbsp;(int('n),&nbsp;regidx,&nbsp;vector('n,&nbsp;dec,&nbsp;bool))&nbsp;-&gt;&nbsp;unit<br>
function&nbsp;write_vmask(num_elem,&nbsp;vrid,&nbsp;v)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;VLEN&nbsp;=&nbsp;unsigned(vlenb)&nbsp;*&nbsp;8;<br>
&nbsp;&nbsp;assert(<span style="background-color: hsl(0, 85%, 75%)">0&nbsp;&lt;&nbsp;VLEN&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 70%)">VLEN&nbsp;&lt;=&nbsp;sizeof(vlenmax)</span></span>);<br>
&nbsp;&nbsp;assert(<span style="background-color: hsl(0, 85%, 75%)">0&nbsp;&lt;&nbsp;num_elem&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 70%)">num_elem&nbsp;&lt;=&nbsp;VLEN</span></span>);<br>
&nbsp;&nbsp;let&nbsp;vreg_val&nbsp;:&nbsp;vregtype&nbsp;=&nbsp;V(vrid);<br>
&nbsp;&nbsp;var&nbsp;result&nbsp;&nbsp;&nbsp;:&nbsp;vregtype&nbsp;=&nbsp;undefined;<br>
<br>
&nbsp;&nbsp;foreach&nbsp;(i&nbsp;from&nbsp;0&nbsp;to&nbsp;(num_elem&nbsp;-&nbsp;1))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;result[i]&nbsp;=&nbsp;bool_to_bit(v[i])<br>
&nbsp;&nbsp;};<br>
&nbsp;&nbsp;foreach&nbsp;(i&nbsp;from&nbsp;num_elem&nbsp;to&nbsp;(VLEN&nbsp;-&nbsp;1))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Mask&nbsp;tail&nbsp;is&nbsp;always&nbsp;agnostic&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;result[i]&nbsp;=&nbsp;vreg_val[i]&nbsp;/*&nbsp;TODO:&nbsp;configuration&nbsp;support&nbsp;*/<br>
&nbsp;&nbsp;};<br>
<br>
&nbsp;&nbsp;V(vrid)&nbsp;=&nbsp;result<br>
}</span><br>
<br>
/*&nbsp;end&nbsp;vector&nbsp;register&nbsp;*/<br>
</code>
</body>
</html>
