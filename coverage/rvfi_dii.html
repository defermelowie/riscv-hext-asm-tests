<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>rvfi_dii</title></head>
<body>
<h1>rvfi_dii.sail (0/0) -</h1>
<code style="display: block">
/*=======================================================================================*/<br>
/*&nbsp;&nbsp;RISCV&nbsp;Sail&nbsp;Model&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;This&nbsp;Sail&nbsp;RISC-V&nbsp;architecture&nbsp;model,&nbsp;comprising&nbsp;all&nbsp;files&nbsp;and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;directories&nbsp;except&nbsp;for&nbsp;the&nbsp;snapshots&nbsp;of&nbsp;the&nbsp;Lem&nbsp;and&nbsp;Sail&nbsp;libraries&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;in&nbsp;the&nbsp;prover_snapshots&nbsp;directory&nbsp;(which&nbsp;include&nbsp;copies&nbsp;of&nbsp;their&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;licences),&nbsp;is&nbsp;subject&nbsp;to&nbsp;the&nbsp;BSD&nbsp;two-clause&nbsp;licence&nbsp;below.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2017-2023&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Prashanth&nbsp;Mundkur&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Rishiyur&nbsp;S.&nbsp;Nikhil&nbsp;and&nbsp;Bluespec,&nbsp;Inc.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Jon&nbsp;French&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Brian&nbsp;Campbell&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Robert&nbsp;Norton-Wright&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Alasdair&nbsp;Armstrong&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Thomas&nbsp;Bauereiss&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Shaked&nbsp;Flur&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Christopher&nbsp;Pulte&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Peter&nbsp;Sewell&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Alexander&nbsp;Richardson&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Hesham&nbsp;Almatary&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Jessica&nbsp;Clarke&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Microsoft,&nbsp;for&nbsp;contributions&nbsp;by&nbsp;Robert&nbsp;Norton-Wright&nbsp;and&nbsp;Nathaniel&nbsp;Wesley&nbsp;Filardo&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Peter&nbsp;Rugg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Aril&nbsp;Computer&nbsp;Corp.,&nbsp;for&nbsp;contributions&nbsp;by&nbsp;Scott&nbsp;Johnson&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Philipp&nbsp;Tomsich&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;VRULL&nbsp;GmbH,&nbsp;for&nbsp;contributions&nbsp;by&nbsp;its&nbsp;employees&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;This&nbsp;software&nbsp;was&nbsp;developed&nbsp;by&nbsp;the&nbsp;above&nbsp;within&nbsp;the&nbsp;Rigorous&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;Engineering&nbsp;of&nbsp;Mainstream&nbsp;Systems&nbsp;(REMS)&nbsp;project,&nbsp;partly&nbsp;funded&nbsp;by&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;EPSRC&nbsp;grant&nbsp;EP/K008528/1,&nbsp;at&nbsp;the&nbsp;Universities&nbsp;of&nbsp;Cambridge&nbsp;and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;Edinburgh.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;This&nbsp;software&nbsp;was&nbsp;developed&nbsp;by&nbsp;SRI&nbsp;International&nbsp;and&nbsp;the&nbsp;University&nbsp;of&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;Cambridge&nbsp;Computer&nbsp;Laboratory&nbsp;(Department&nbsp;of&nbsp;Computer&nbsp;Science&nbsp;and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;Technology)&nbsp;under&nbsp;DARPA/AFRL&nbsp;contract&nbsp;FA8650-18-C-7809&nbsp;(&quot;CIFV&quot;),&nbsp;and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;under&nbsp;DARPA&nbsp;contract&nbsp;HR0011-18-C-0016&nbsp;(&quot;ECATS&quot;)&nbsp;as&nbsp;part&nbsp;of&nbsp;the&nbsp;DARPA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;SSITH&nbsp;research&nbsp;programme.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;This&nbsp;project&nbsp;has&nbsp;received&nbsp;funding&nbsp;from&nbsp;the&nbsp;European&nbsp;Research&nbsp;Council&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;(ERC)&nbsp;under&nbsp;the&nbsp;European&nbsp;Union’s&nbsp;Horizon&nbsp;2020&nbsp;research&nbsp;and&nbsp;innovation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;programme&nbsp;(grant&nbsp;agreement&nbsp;789108,&nbsp;ELVER).&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;Redistribution&nbsp;and&nbsp;use&nbsp;in&nbsp;source&nbsp;and&nbsp;binary&nbsp;forms,&nbsp;with&nbsp;or&nbsp;without&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;modification,&nbsp;are&nbsp;permitted&nbsp;provided&nbsp;that&nbsp;the&nbsp;following&nbsp;conditions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;are&nbsp;met:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;1.&nbsp;Redistributions&nbsp;of&nbsp;source&nbsp;code&nbsp;must&nbsp;retain&nbsp;the&nbsp;above&nbsp;copyright&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;2.&nbsp;Redistributions&nbsp;in&nbsp;binary&nbsp;form&nbsp;must&nbsp;reproduce&nbsp;the&nbsp;above&nbsp;copyright&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer&nbsp;in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;documentation&nbsp;and/or&nbsp;other&nbsp;materials&nbsp;provided&nbsp;with&nbsp;the&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;distribution.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;PROVIDED&nbsp;BY&nbsp;THE&nbsp;AUTHOR&nbsp;AND&nbsp;CONTRIBUTORS&nbsp;``AS&nbsp;IS''&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;AND&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED&nbsp;WARRANTIES,&nbsp;INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;LIMITED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;TO,&nbsp;THE&nbsp;IMPLIED&nbsp;WARRANTIES&nbsp;OF&nbsp;MERCHANTABILITY&nbsp;AND&nbsp;FITNESS&nbsp;FOR&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;PARTICULAR&nbsp;PURPOSE&nbsp;ARE&nbsp;DISCLAIMED.&nbsp;&nbsp;IN&nbsp;NO&nbsp;EVENT&nbsp;SHALL&nbsp;THE&nbsp;AUTHOR&nbsp;OR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;CONTRIBUTORS&nbsp;BE&nbsp;LIABLE&nbsp;FOR&nbsp;ANY&nbsp;DIRECT,&nbsp;INDIRECT,&nbsp;INCIDENTAL,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;SPECIAL,&nbsp;EXEMPLARY,&nbsp;OR&nbsp;CONSEQUENTIAL&nbsp;DAMAGES&nbsp;(INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;LIMITED&nbsp;TO,&nbsp;PROCUREMENT&nbsp;OF&nbsp;SUBSTITUTE&nbsp;GOODS&nbsp;OR&nbsp;SERVICES;&nbsp;LOSS&nbsp;OF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;USE,&nbsp;DATA,&nbsp;OR&nbsp;PROFITS;&nbsp;OR&nbsp;BUSINESS&nbsp;INTERRUPTION)&nbsp;HOWEVER&nbsp;CAUSED&nbsp;AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;ON&nbsp;ANY&nbsp;THEORY&nbsp;OF&nbsp;LIABILITY,&nbsp;WHETHER&nbsp;IN&nbsp;CONTRACT,&nbsp;STRICT&nbsp;LIABILITY,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;OR&nbsp;TORT&nbsp;(INCLUDING&nbsp;NEGLIGENCE&nbsp;OR&nbsp;OTHERWISE)&nbsp;ARISING&nbsp;IN&nbsp;ANY&nbsp;WAY&nbsp;OUT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;OF&nbsp;THE&nbsp;USE&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE,&nbsp;EVEN&nbsp;IF&nbsp;ADVISED&nbsp;OF&nbsp;THE&nbsp;POSSIBILITY&nbsp;OF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;SUCH&nbsp;DAMAGE.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*=======================================================================================*/<br>
<br>
//&nbsp;&quot;RISC-V&nbsp;Formal&nbsp;Interface&nbsp;-&nbsp;Direct&nbsp;Instruction&nbsp;Injection&quot;&nbsp;support<br>
//&nbsp;For&nbsp;use&nbsp;with&nbsp;https://github.com/CTSRD-CHERI/TestRIG<br>
<br>
$define&nbsp;RVFI_DII<br>
<br>
bitfield&nbsp;RVFI_DII_Instruction_Packet&nbsp;:&nbsp;bits(64)&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;&nbsp;padding&nbsp;&nbsp;&nbsp;:&nbsp;63&nbsp;..&nbsp;56,&nbsp;//&nbsp;[7]<br>
&nbsp;&nbsp;&nbsp;rvfi_cmd&nbsp;&nbsp;:&nbsp;55&nbsp;..&nbsp;48,&nbsp;//&nbsp;[6]&nbsp;This&nbsp;token&nbsp;is&nbsp;a&nbsp;trace&nbsp;command.&nbsp;&nbsp;For&nbsp;example,&nbsp;reset&nbsp;device&nbsp;under&nbsp;test.<br>
&nbsp;&nbsp;&nbsp;rvfi_time&nbsp;:&nbsp;47&nbsp;..&nbsp;32,&nbsp;//&nbsp;[5&nbsp;-&nbsp;4]&nbsp;Time&nbsp;to&nbsp;inject&nbsp;token.&nbsp;&nbsp;The&nbsp;difference&nbsp;between&nbsp;this&nbsp;and&nbsp;the&nbsp;previous<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;instruction&nbsp;time&nbsp;gives&nbsp;a&nbsp;delay&nbsp;before&nbsp;injecting&nbsp;this&nbsp;instruction.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;This&nbsp;can&nbsp;be&nbsp;ignored&nbsp;for&nbsp;models&nbsp;but&nbsp;gives&nbsp;repeatability&nbsp;for&nbsp;implementations<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;while&nbsp;shortening&nbsp;counterexamples.<br>
&nbsp;&nbsp;&nbsp;rvfi_insn&nbsp;:&nbsp;31&nbsp;..&nbsp;&nbsp;0,&nbsp;//&nbsp;[0&nbsp;-&nbsp;3]&nbsp;Instruction&nbsp;word:&nbsp;32-bit&nbsp;instruction&nbsp;or&nbsp;command.&nbsp;The&nbsp;lower&nbsp;16-bits<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;may&nbsp;decode&nbsp;to&nbsp;a&nbsp;16-bit&nbsp;compressed&nbsp;instruction.<br>
}<br>
<br>
register&nbsp;rvfi_instruction&nbsp;:&nbsp;RVFI_DII_Instruction_Packet<br>
<br>
val&nbsp;rvfi_set_instr_packet&nbsp;:&nbsp;bits(64)&nbsp;-&gt;&nbsp;unit<br>
<br>
function&nbsp;rvfi_set_instr_packet(p)&nbsp;=<br>
&nbsp;&nbsp;rvfi_instruction&nbsp;=&nbsp;Mk_RVFI_DII_Instruction_Packet(p)<br>
<br>
val&nbsp;rvfi_get_cmd&nbsp;:&nbsp;unit&nbsp;-&gt;&nbsp;bits(8)<br>
<br>
function&nbsp;rvfi_get_cmd&nbsp;()&nbsp;=&nbsp;rvfi_instruction.rvfi_cmd()<br>
<br>
val&nbsp;rvfi_get_insn&nbsp;:&nbsp;unit&nbsp;-&gt;&nbsp;bits(32)<br>
<br>
function&nbsp;rvfi_get_insn&nbsp;()&nbsp;=&nbsp;rvfi_instruction.rvfi_insn()<br>
<br>
val&nbsp;print_instr_packet&nbsp;:&nbsp;bits(64)&nbsp;-&gt;&nbsp;unit<br>
<br>
function&nbsp;print_instr_packet(bs)&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;let&nbsp;p&nbsp;=&nbsp;Mk_RVFI_DII_Instruction_Packet(bs);<br>
&nbsp;&nbsp;print_bits(&quot;command&nbsp;&quot;,&nbsp;p.rvfi_cmd());<br>
&nbsp;&nbsp;print_bits(&quot;instruction&nbsp;&quot;,&nbsp;p.rvfi_insn())<br>
}<br>
<br>
bitfield&nbsp;RVFI_DII_Execution_Packet_V1&nbsp;:&nbsp;bits(704)&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;&nbsp;rvfi_intr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;703&nbsp;..&nbsp;696,&nbsp;//&nbsp;[87]&nbsp;Trap&nbsp;handler:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set&nbsp;for&nbsp;first&nbsp;instruction&nbsp;in&nbsp;trap&nbsp;handler.<br>
&nbsp;&nbsp;&nbsp;rvfi_halt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;695&nbsp;..&nbsp;688,&nbsp;//&nbsp;[86]&nbsp;Halt&nbsp;indicator:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Marks&nbsp;the&nbsp;last&nbsp;instruction&nbsp;retired<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;before&nbsp;halting&nbsp;execution.<br>
&nbsp;&nbsp;&nbsp;rvfi_trap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;687&nbsp;..&nbsp;680,&nbsp;//&nbsp;[85]&nbsp;Trap&nbsp;indicator:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invalid&nbsp;decode,&nbsp;misaligned&nbsp;access&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jump&nbsp;command&nbsp;to&nbsp;misaligned&nbsp;address.<br>
&nbsp;&nbsp;&nbsp;rvfi_rd_addr&nbsp;&nbsp;&nbsp;:&nbsp;679&nbsp;..&nbsp;672,&nbsp;//&nbsp;[84]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write&nbsp;register&nbsp;address:&nbsp;&nbsp;MUST&nbsp;be&nbsp;0&nbsp;if&nbsp;not&nbsp;used.<br>
&nbsp;&nbsp;&nbsp;rvfi_rs2_addr&nbsp;&nbsp;:&nbsp;671&nbsp;..&nbsp;664,&nbsp;//&nbsp;[83]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise&nbsp;set&nbsp;as&nbsp;decoded.<br>
&nbsp;&nbsp;&nbsp;rvfi_rs1_addr&nbsp;&nbsp;:&nbsp;663&nbsp;..&nbsp;656,&nbsp;//&nbsp;[82]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Read&nbsp;register&nbsp;addresses:&nbsp;Can&nbsp;be&nbsp;arbitrary&nbsp;when&nbsp;not&nbsp;used,<br>
&nbsp;&nbsp;&nbsp;rvfi_mem_wmask&nbsp;:&nbsp;655&nbsp;..&nbsp;648,&nbsp;//&nbsp;[81]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Write&nbsp;mask:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Indicates&nbsp;valid&nbsp;bytes&nbsp;written.&nbsp;0&nbsp;if&nbsp;unused.<br>
&nbsp;&nbsp;&nbsp;rvfi_mem_rmask&nbsp;:&nbsp;647&nbsp;..&nbsp;640,&nbsp;//&nbsp;[80]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Read&nbsp;mask:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Indicates&nbsp;valid&nbsp;bytes&nbsp;read.&nbsp;0&nbsp;if&nbsp;unused.<br>
&nbsp;&nbsp;&nbsp;rvfi_mem_wdata&nbsp;:&nbsp;639&nbsp;..&nbsp;576,&nbsp;//&nbsp;[72&nbsp;-&nbsp;79]&nbsp;Write&nbsp;data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data&nbsp;written&nbsp;to&nbsp;memory&nbsp;by&nbsp;this&nbsp;command.<br>
&nbsp;&nbsp;&nbsp;rvfi_mem_rdata&nbsp;:&nbsp;575&nbsp;..&nbsp;512,&nbsp;//&nbsp;[64&nbsp;-&nbsp;71]&nbsp;Read&nbsp;data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data&nbsp;read&nbsp;from&nbsp;mem_addr&nbsp;(i.e.&nbsp;before&nbsp;write)<br>
&nbsp;&nbsp;&nbsp;rvfi_mem_addr&nbsp;&nbsp;:&nbsp;511&nbsp;..&nbsp;448,&nbsp;//&nbsp;[56&nbsp;-&nbsp;63]&nbsp;Memory&nbsp;access&nbsp;addr:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Points&nbsp;to&nbsp;byte&nbsp;address&nbsp;(aligned&nbsp;if&nbsp;define<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;set).&nbsp;*Should*&nbsp;be&nbsp;straightforward.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;unused.<br>
&nbsp;&nbsp;&nbsp;rvfi_rd_wdata&nbsp;&nbsp;:&nbsp;447&nbsp;..&nbsp;384,&nbsp;//&nbsp;[48&nbsp;-&nbsp;55]&nbsp;Write&nbsp;register&nbsp;value:&nbsp;&nbsp;&nbsp;&nbsp;MUST&nbsp;be&nbsp;0&nbsp;if&nbsp;rd_&nbsp;is&nbsp;0.<br>
&nbsp;&nbsp;&nbsp;rvfi_rs2_data&nbsp;&nbsp;:&nbsp;383&nbsp;..&nbsp;320,&nbsp;//&nbsp;[40&nbsp;-&nbsp;47]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;above.&nbsp;Must&nbsp;be&nbsp;0&nbsp;if&nbsp;register&nbsp;ID&nbsp;is&nbsp;0.<br>
&nbsp;&nbsp;&nbsp;rvfi_rs1_data&nbsp;&nbsp;:&nbsp;319&nbsp;..&nbsp;256,&nbsp;//&nbsp;[32&nbsp;-&nbsp;39]&nbsp;Read&nbsp;register&nbsp;values:&nbsp;&nbsp;&nbsp;&nbsp;Values&nbsp;as&nbsp;read&nbsp;from&nbsp;registers&nbsp;named<br>
&nbsp;&nbsp;&nbsp;rvfi_insn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;255&nbsp;..&nbsp;192,&nbsp;//&nbsp;[24&nbsp;-&nbsp;31]&nbsp;Instruction&nbsp;word:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32-bit&nbsp;command&nbsp;value.<br>
&nbsp;&nbsp;&nbsp;rvfi_pc_wdata&nbsp;&nbsp;:&nbsp;191&nbsp;..&nbsp;128,&nbsp;//&nbsp;[16&nbsp;-&nbsp;23]&nbsp;PC&nbsp;after&nbsp;instr:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Following&nbsp;PC&nbsp;-&nbsp;either&nbsp;PC&nbsp;+&nbsp;4&nbsp;or&nbsp;jump/trap&nbsp;target.<br>
&nbsp;&nbsp;&nbsp;rvfi_pc_rdata&nbsp;&nbsp;:&nbsp;127&nbsp;..&nbsp;&nbsp;64,&nbsp;//&nbsp;[08&nbsp;-&nbsp;15]&nbsp;PC&nbsp;before&nbsp;instr:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PC&nbsp;for&nbsp;current&nbsp;instruction<br>
&nbsp;&nbsp;&nbsp;rvfi_order&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;63&nbsp;..&nbsp;&nbsp;&nbsp;0,&nbsp;//&nbsp;[00&nbsp;-&nbsp;07]&nbsp;Instruction&nbsp;number:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INSTRET&nbsp;value&nbsp;after&nbsp;completion.<br>
}<br>
<br>
bitfield&nbsp;RVFI_DII_Execution_Packet_InstMetaData&nbsp;:&nbsp;bits(192)&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;///&nbsp;The&nbsp;rvfi_order&nbsp;field&nbsp;must&nbsp;be&nbsp;set&nbsp;to&nbsp;the&nbsp;instruction&nbsp;index.&nbsp;No&nbsp;indices<br>
&nbsp;&nbsp;///&nbsp;must&nbsp;be&nbsp;used&nbsp;twice&nbsp;and&nbsp;there&nbsp;must&nbsp;be&nbsp;no&nbsp;gaps.&nbsp;Instructions&nbsp;may&nbsp;be<br>
&nbsp;&nbsp;///&nbsp;retired&nbsp;in&nbsp;a&nbsp;reordered&nbsp;fashion,&nbsp;as&nbsp;long&nbsp;as&nbsp;causality&nbsp;is&nbsp;preserved<br>
&nbsp;&nbsp;///&nbsp;(register&nbsp;and&nbsp;memory&nbsp;write&nbsp;operations&nbsp;must&nbsp;be&nbsp;retired&nbsp;before&nbsp;the&nbsp;read<br>
&nbsp;&nbsp;///&nbsp;operations&nbsp;that&nbsp;depend&nbsp;on&nbsp;them).<br>
&nbsp;&nbsp;rvfi_order&nbsp;&nbsp;:&nbsp;63&nbsp;..&nbsp;0,<br>
&nbsp;&nbsp;///&nbsp;rvfi_insn&nbsp;is&nbsp;the&nbsp;instruction&nbsp;word&nbsp;for&nbsp;the&nbsp;retired&nbsp;instruction.&nbsp;In&nbsp;case<br>
&nbsp;&nbsp;///&nbsp;of&nbsp;an&nbsp;instruction&nbsp;with&nbsp;fewer&nbsp;than&nbsp;ILEN&nbsp;bits,&nbsp;the&nbsp;upper&nbsp;bits&nbsp;of&nbsp;this<br>
&nbsp;&nbsp;///&nbsp;output&nbsp;must&nbsp;be&nbsp;all&nbsp;zero.&nbsp;For&nbsp;compressed&nbsp;instructions&nbsp;the&nbsp;compressed<br>
&nbsp;&nbsp;///&nbsp;instruction&nbsp;word&nbsp;must&nbsp;be&nbsp;output&nbsp;on&nbsp;this&nbsp;port.&nbsp;For&nbsp;fused&nbsp;instructions&nbsp;the<br>
&nbsp;&nbsp;///&nbsp;complete&nbsp;fused&nbsp;instruction&nbsp;sequence&nbsp;must&nbsp;be&nbsp;output.<br>
&nbsp;&nbsp;rvfi_insn&nbsp;&nbsp;:&nbsp;127&nbsp;..&nbsp;&nbsp;64,<br>
&nbsp;&nbsp;///&nbsp;rvfi_trap&nbsp;must&nbsp;be&nbsp;set&nbsp;for&nbsp;an&nbsp;instruction&nbsp;that&nbsp;cannot&nbsp;be&nbsp;decoded&nbsp;as&nbsp;a<br>
&nbsp;&nbsp;///&nbsp;legal&nbsp;instruction,&nbsp;such&nbsp;as&nbsp;0x00000000.<br>
&nbsp;&nbsp;///&nbsp;In&nbsp;addition,&nbsp;rvfi_trap&nbsp;must&nbsp;be&nbsp;set&nbsp;for&nbsp;a&nbsp;misaligned&nbsp;memory&nbsp;read&nbsp;or<br>
&nbsp;&nbsp;///&nbsp;write&nbsp;in&nbsp;PMAs&nbsp;that&nbsp;don't&nbsp;allow&nbsp;misaligned&nbsp;access,&nbsp;or&nbsp;other&nbsp;memory<br>
&nbsp;&nbsp;///&nbsp;access&nbsp;violations.&nbsp;rvfi_trap&nbsp;must&nbsp;also&nbsp;be&nbsp;set&nbsp;for&nbsp;a&nbsp;jump&nbsp;instruction<br>
&nbsp;&nbsp;///&nbsp;that&nbsp;jumps&nbsp;to&nbsp;a&nbsp;misaligned&nbsp;instruction.<br>
&nbsp;&nbsp;rvfi_trap&nbsp;&nbsp;:&nbsp;135&nbsp;..&nbsp;&nbsp;128,<br>
&nbsp;&nbsp;///&nbsp;The&nbsp;signal&nbsp;rvfi_halt&nbsp;must&nbsp;be&nbsp;set&nbsp;when&nbsp;the&nbsp;instruction&nbsp;is&nbsp;the&nbsp;last<br>
&nbsp;&nbsp;///&nbsp;instruction&nbsp;that&nbsp;the&nbsp;core&nbsp;retires&nbsp;before&nbsp;halting&nbsp;execution.&nbsp;It&nbsp;should&nbsp;not<br>
&nbsp;&nbsp;///&nbsp;be&nbsp;set&nbsp;for&nbsp;an&nbsp;instruction&nbsp;that&nbsp;triggers&nbsp;a&nbsp;trap&nbsp;condition&nbsp;if&nbsp;the&nbsp;CPU<br>
&nbsp;&nbsp;///&nbsp;reacts&nbsp;to&nbsp;the&nbsp;trap&nbsp;by&nbsp;executing&nbsp;a&nbsp;trap&nbsp;handler.&nbsp;This&nbsp;signal&nbsp;enables<br>
&nbsp;&nbsp;///&nbsp;verification&nbsp;of&nbsp;liveness&nbsp;properties.<br>
&nbsp;&nbsp;rvfi_halt&nbsp;&nbsp;:&nbsp;143&nbsp;..&nbsp;&nbsp;136,<br>
&nbsp;&nbsp;///&nbsp;rvfi_intr&nbsp;must&nbsp;be&nbsp;set&nbsp;for&nbsp;the&nbsp;first&nbsp;instruction&nbsp;that&nbsp;is&nbsp;part&nbsp;of&nbsp;a&nbsp;trap<br>
&nbsp;&nbsp;///&nbsp;handler,&nbsp;i.e.&nbsp;an&nbsp;instruction&nbsp;that&nbsp;has&nbsp;a&nbsp;rvfi_pc_rdata&nbsp;that&nbsp;does&nbsp;not<br>
&nbsp;&nbsp;///&nbsp;match&nbsp;the&nbsp;rvfi_pc_wdata&nbsp;of&nbsp;the&nbsp;previous&nbsp;instruction.<br>
&nbsp;&nbsp;rvfi_intr&nbsp;&nbsp;:&nbsp;151&nbsp;..&nbsp;&nbsp;144,<br>
&nbsp;&nbsp;///&nbsp;rvfi_mode&nbsp;must&nbsp;be&nbsp;set&nbsp;to&nbsp;the&nbsp;current&nbsp;privilege&nbsp;level,&nbsp;using&nbsp;the&nbsp;following<br>
&nbsp;&nbsp;///&nbsp;encoding:&nbsp;0=U-Mode,&nbsp;1=S-Mode,&nbsp;2=Reserved,&nbsp;3=M-Mode<br>
&nbsp;&nbsp;rvfi_mode&nbsp;&nbsp;:&nbsp;159&nbsp;..&nbsp;&nbsp;152,<br>
&nbsp;&nbsp;///&nbsp;rvfi_ixl&nbsp;must&nbsp;be&nbsp;set&nbsp;to&nbsp;the&nbsp;value&nbsp;of&nbsp;MXL/SXL/UXL&nbsp;in&nbsp;the&nbsp;current&nbsp;privilege&nbsp;level,<br>
&nbsp;&nbsp;///&nbsp;using&nbsp;the&nbsp;following&nbsp;encoding:&nbsp;1=32,&nbsp;2=64<br>
&nbsp;&nbsp;rvfi_ixl&nbsp;&nbsp;:&nbsp;167&nbsp;..&nbsp;&nbsp;160,<br>
<br>
&nbsp;&nbsp;///&nbsp;When&nbsp;the&nbsp;core&nbsp;retires&nbsp;an&nbsp;instruction,&nbsp;it&nbsp;asserts&nbsp;the&nbsp;rvfi_valid&nbsp;signal<br>
&nbsp;&nbsp;///&nbsp;and&nbsp;uses&nbsp;the&nbsp;signals&nbsp;described&nbsp;below&nbsp;to&nbsp;output&nbsp;the&nbsp;details&nbsp;of&nbsp;the<br>
&nbsp;&nbsp;///&nbsp;retired&nbsp;instruction.&nbsp;The&nbsp;signals&nbsp;below&nbsp;are&nbsp;only&nbsp;valid&nbsp;during&nbsp;such&nbsp;a<br>
&nbsp;&nbsp;///&nbsp;cycle&nbsp;and&nbsp;can&nbsp;be&nbsp;driven&nbsp;to&nbsp;arbitrary&nbsp;values&nbsp;in&nbsp;a&nbsp;cycle&nbsp;in&nbsp;which<br>
&nbsp;&nbsp;///&nbsp;rvfi_valid&nbsp;is&nbsp;not&nbsp;asserted.<br>
&nbsp;&nbsp;rvfi_valid&nbsp;&nbsp;:&nbsp;175&nbsp;..&nbsp;&nbsp;168,<br>
&nbsp;&nbsp;//&nbsp;Note:&nbsp;since&nbsp;we&nbsp;only&nbsp;send&nbsp;these&nbsp;packets&nbsp;in&nbsp;the&nbsp;valid&nbsp;state,&nbsp;we&nbsp;could<br>
&nbsp;&nbsp;//&nbsp;omit&nbsp;the&nbsp;valid&nbsp;signal,&nbsp;but&nbsp;we&nbsp;need&nbsp;3&nbsp;bytes&nbsp;of&nbsp;padding&nbsp;after&nbsp;ixl&nbsp;anyway<br>
&nbsp;&nbsp;//&nbsp;so&nbsp;we&nbsp;might&nbsp;as&nbsp;well&nbsp;include&nbsp;it<br>
&nbsp;&nbsp;padding&nbsp;&nbsp;:&nbsp;191&nbsp;..&nbsp;&nbsp;176,<br>
}<br>
<br>
bitfield&nbsp;RVFI_DII_Execution_Packet_PC&nbsp;:&nbsp;bits(128)&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;///&nbsp;This&nbsp;is&nbsp;the&nbsp;program&nbsp;counter&nbsp;(pc)&nbsp;before&nbsp;(rvfi_pc_rdata)&nbsp;and&nbsp;after<br>
&nbsp;&nbsp;///&nbsp;(rvfi_pc_wdata)&nbsp;execution&nbsp;of&nbsp;this&nbsp;instruction.&nbsp;I.e.&nbsp;this&nbsp;is&nbsp;the&nbsp;address<br>
&nbsp;&nbsp;///&nbsp;of&nbsp;the&nbsp;retired&nbsp;instruction&nbsp;and&nbsp;the&nbsp;address&nbsp;of&nbsp;the&nbsp;next&nbsp;instruction.<br>
&nbsp;&nbsp;rvfi_pc_rdata&nbsp;&nbsp;:&nbsp;63&nbsp;..&nbsp;0,<br>
&nbsp;&nbsp;rvfi_pc_wdata&nbsp;&nbsp;:&nbsp;127&nbsp;..&nbsp;&nbsp;64,<br>
}<br>
<br>
bitfield&nbsp;RVFI_DII_Execution_Packet_Ext_Integer&nbsp;:&nbsp;bits(320)&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;magic&nbsp;:&nbsp;63&nbsp;..&nbsp;0,&nbsp;//&nbsp;must&nbsp;be&nbsp;&quot;int-data&quot;<br>
&nbsp;&nbsp;///&nbsp;rvfi_rd_wdata&nbsp;is&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;x&nbsp;register&nbsp;addressed&nbsp;by&nbsp;rd&nbsp;after<br>
&nbsp;&nbsp;///&nbsp;execution&nbsp;of&nbsp;this&nbsp;instruction.&nbsp;This&nbsp;output&nbsp;must&nbsp;be&nbsp;zero&nbsp;when&nbsp;rd&nbsp;is&nbsp;zero.<br>
&nbsp;&nbsp;rvfi_rd_wdata&nbsp;&nbsp;:&nbsp;127&nbsp;..&nbsp;&nbsp;64,<br>
&nbsp;&nbsp;///&nbsp;rvfi_rs1_rdata/rvfi_rs2_rdata&nbsp;is&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;x&nbsp;register&nbsp;addressed<br>
&nbsp;&nbsp;///&nbsp;by&nbsp;rs1/rs2&nbsp;before&nbsp;execution&nbsp;of&nbsp;this&nbsp;instruction.&nbsp;This&nbsp;output&nbsp;must&nbsp;be<br>
&nbsp;&nbsp;///&nbsp;zero&nbsp;when&nbsp;rs1/rs2&nbsp;is&nbsp;zero.<br>
&nbsp;&nbsp;rvfi_rs1_rdata&nbsp;&nbsp;:&nbsp;191&nbsp;..&nbsp;128,<br>
&nbsp;&nbsp;rvfi_rs2_rdata&nbsp;&nbsp;:&nbsp;255&nbsp;..&nbsp;192,<br>
&nbsp;&nbsp;///&nbsp;rvfi_rd_addr&nbsp;is&nbsp;the&nbsp;decoded&nbsp;rd&nbsp;register&nbsp;address&nbsp;for&nbsp;the&nbsp;retired<br>
&nbsp;&nbsp;///&nbsp;instruction.&nbsp;For&nbsp;an&nbsp;instruction&nbsp;that&nbsp;writes&nbsp;no&nbsp;rd&nbsp;register,&nbsp;this&nbsp;output<br>
&nbsp;&nbsp;///&nbsp;must&nbsp;always&nbsp;be&nbsp;zero.<br>
&nbsp;&nbsp;rvfi_rd_addr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;263&nbsp;..&nbsp;256,<br>
&nbsp;&nbsp;///&nbsp;rvfi_rs1_addr&nbsp;and&nbsp;rvfi_rs2_addr&nbsp;are&nbsp;the&nbsp;decoded&nbsp;rs1&nbsp;and&nbsp;rs1&nbsp;register<br>
&nbsp;&nbsp;///&nbsp;addresses&nbsp;for&nbsp;the&nbsp;retired&nbsp;instruction.&nbsp;For&nbsp;an&nbsp;instruction&nbsp;that&nbsp;reads&nbsp;no<br>
&nbsp;&nbsp;///&nbsp;rs1/rs2&nbsp;register,&nbsp;this&nbsp;output&nbsp;can&nbsp;have&nbsp;an&nbsp;arbitrary&nbsp;value.&nbsp;However,&nbsp;if<br>
&nbsp;&nbsp;///&nbsp;this&nbsp;output&nbsp;is&nbsp;nonzero&nbsp;then&nbsp;rvfi_rs1_rdata&nbsp;must&nbsp;carry&nbsp;the&nbsp;value&nbsp;stored<br>
&nbsp;&nbsp;///&nbsp;in&nbsp;that&nbsp;register&nbsp;in&nbsp;the&nbsp;pre-state.<br>
&nbsp;&nbsp;rvfi_rs1_addr&nbsp;&nbsp;:&nbsp;271&nbsp;..&nbsp;264,<br>
&nbsp;&nbsp;rvfi_rs2_addr&nbsp;&nbsp;:&nbsp;279&nbsp;..&nbsp;272,<br>
&nbsp;&nbsp;padding&nbsp;&nbsp;:&nbsp;319&nbsp;..&nbsp;280,<br>
}<br>
<br>
bitfield&nbsp;RVFI_DII_Execution_Packet_Ext_MemAccess&nbsp;:&nbsp;bits(704)&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;magic&nbsp;:&nbsp;63&nbsp;..&nbsp;0,&nbsp;//&nbsp;must&nbsp;be&nbsp;&quot;mem-data&quot;<br>
&nbsp;&nbsp;///&nbsp;rvfi_mem_rdata&nbsp;is&nbsp;the&nbsp;pre-state&nbsp;data&nbsp;read&nbsp;from&nbsp;rvfi_mem_addr.<br>
&nbsp;&nbsp;///&nbsp;rvfi_mem_rmask&nbsp;specifies&nbsp;which&nbsp;bytes&nbsp;are&nbsp;valid.<br>
&nbsp;&nbsp;///&nbsp;CHERI-extension:&nbsp;widened&nbsp;to&nbsp;32&nbsp;bytes&nbsp;to&nbsp;allow&nbsp;reporting&nbsp;129&nbsp;bits<br>
&nbsp;&nbsp;rvfi_mem_rdata&nbsp;:&nbsp;319&nbsp;..&nbsp;&nbsp;64,<br>
&nbsp;&nbsp;///&nbsp;rvfi_mem_wdata&nbsp;is&nbsp;the&nbsp;post-state&nbsp;data&nbsp;written&nbsp;to&nbsp;rvfi_mem_addr.<br>
&nbsp;&nbsp;///&nbsp;rvfi_mem_wmask&nbsp;specifies&nbsp;which&nbsp;bytes&nbsp;are&nbsp;valid.<br>
&nbsp;&nbsp;///&nbsp;CHERI-extension:&nbsp;widened&nbsp;to&nbsp;32&nbsp;bytes&nbsp;to&nbsp;allow&nbsp;reporting&nbsp;129&nbsp;bits<br>
&nbsp;&nbsp;rvfi_mem_wdata&nbsp;:&nbsp;575&nbsp;..&nbsp;320,<br>
&nbsp;&nbsp;///&nbsp;rvfi_mem_rmask&nbsp;is&nbsp;a&nbsp;bitmask&nbsp;that&nbsp;specifies&nbsp;which&nbsp;bytes&nbsp;in&nbsp;rvfi_mem_rdata<br>
&nbsp;&nbsp;///&nbsp;contain&nbsp;valid&nbsp;read&nbsp;data&nbsp;from&nbsp;rvfi_mem_addr.<br>
&nbsp;&nbsp;///&nbsp;CHERI-extension:&nbsp;we&nbsp;extend&nbsp;rmask+wmask&nbsp;to&nbsp;32&nbsp;bits&nbsp;to&nbsp;allow&nbsp;reporting&nbsp;the<br>
&nbsp;&nbsp;///&nbsp;mask&nbsp;for&nbsp;CHERI/RV128&nbsp;accesses&nbsp;here.<br>
&nbsp;&nbsp;rvfi_mem_rmask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;607&nbsp;..&nbsp;576,<br>
&nbsp;&nbsp;///&nbsp;rvfi_mem_wmask&nbsp;is&nbsp;a&nbsp;bitmask&nbsp;that&nbsp;specifies&nbsp;which&nbsp;bytes&nbsp;in&nbsp;rvfi_mem_wdata<br>
&nbsp;&nbsp;///&nbsp;contain&nbsp;valid&nbsp;data&nbsp;that&nbsp;is&nbsp;written&nbsp;to&nbsp;rvfi_mem_addr.<br>
&nbsp;&nbsp;///&nbsp;CHERI-extension:&nbsp;widened&nbsp;to&nbsp;32&nbsp;bits<br>
&nbsp;&nbsp;rvfi_mem_wmask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;639&nbsp;..&nbsp;608,<br>
&nbsp;&nbsp;///&nbsp;For&nbsp;memory&nbsp;operations&nbsp;(rvfi_mem_rmask&nbsp;and/or&nbsp;rvfi_mem_wmask&nbsp;are<br>
&nbsp;&nbsp;///&nbsp;non-zero),&nbsp;rvfi_mem_addr&nbsp;holds&nbsp;the&nbsp;accessed&nbsp;memory&nbsp;location.<br>
&nbsp;&nbsp;rvfi_mem_addr&nbsp;:&nbsp;703&nbsp;..&nbsp;640,<br>
}<br>
<br>
bitfield&nbsp;RVFI_DII_Execution_PacketV2&nbsp;:&nbsp;bits(512)&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;magic&nbsp;:&nbsp;63&nbsp;..&nbsp;0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;must&nbsp;be&nbsp;set&nbsp;to&nbsp;'trace-v2'<br>
&nbsp;&nbsp;trace_size&nbsp;:&nbsp;127&nbsp;..&nbsp;64,&nbsp;&nbsp;//&nbsp;total&nbsp;size&nbsp;of&nbsp;the&nbsp;trace&nbsp;packet&nbsp;+&nbsp;extensions<br>
&nbsp;&nbsp;basic_data&nbsp;:&nbsp;319&nbsp;..&nbsp;128,&nbsp;//&nbsp;RVFI_DII_Execution_Packet_InstMetaData<br>
&nbsp;&nbsp;pc_data&nbsp;:&nbsp;447&nbsp;..&nbsp;320,&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;RVFI_DII_Execution_Packet_PC<br>
&nbsp;&nbsp;//&nbsp;available_fields&nbsp;:&nbsp;511&nbsp;..&nbsp;448,<br>
&nbsp;&nbsp;integer_data_available:&nbsp;448,&nbsp;//&nbsp;Followed&nbsp;by&nbsp;RVFI_DII_Execution_Packet_Ext_Integer&nbsp;if&nbsp;set<br>
&nbsp;&nbsp;memory_access_data_available:&nbsp;449,&nbsp;//&nbsp;Followed&nbsp;by&nbsp;R&nbsp;VFI_DII_Execution_Packet_Ext_MemAccess&nbsp;if&nbsp;set<br>
&nbsp;&nbsp;floating_point_data_available:&nbsp;450,&nbsp;//&nbsp;TODO:&nbsp;Followed&nbsp;by&nbsp;RVFI_DII_Execution_Packet_Ext_FP&nbsp;if&nbsp;set<br>
&nbsp;&nbsp;csr_read_write_data_available:&nbsp;451,&nbsp;//&nbsp;TODO:&nbsp;Followed&nbsp;by&nbsp;RVFI_DII_Execution_Packet_Ext_CSR&nbsp;if&nbsp;set<br>
&nbsp;&nbsp;cheri_data_available:&nbsp;452,&nbsp;//&nbsp;TODO:&nbsp;Followed&nbsp;by&nbsp;RVFI_DII_Execution_Packet_Ext_CHERI&nbsp;if&nbsp;set<br>
&nbsp;&nbsp;cheri_scr_read_write_data_available:&nbsp;453,&nbsp;//&nbsp;TODO:&nbsp;Followed&nbsp;by&nbsp;RVFI_DII_Execution_Packet_Ext_CHERI_SCR&nbsp;if&nbsp;set<br>
&nbsp;&nbsp;trap_data_available:&nbsp;454,&nbsp;//&nbsp;TODO:&nbsp;Followed&nbsp;by&nbsp;RVFI_DII_Execution_Packet_Ext_Trap&nbsp;if&nbsp;set<br>
&nbsp;&nbsp;unused_data_available_fields&nbsp;:&nbsp;511&nbsp;..&nbsp;455,&nbsp;//&nbsp;To&nbsp;be&nbsp;used&nbsp;for&nbsp;additional&nbsp;RVFI_DII_Execution_Packet_Ext_*&nbsp;structs<br>
}<br>
<br>
register&nbsp;rvfi_inst_data&nbsp;:&nbsp;RVFI_DII_Execution_Packet_InstMetaData<br>
register&nbsp;rvfi_pc_data&nbsp;:&nbsp;RVFI_DII_Execution_Packet_PC<br>
register&nbsp;rvfi_int_data&nbsp;:&nbsp;RVFI_DII_Execution_Packet_Ext_Integer<br>
register&nbsp;rvfi_int_data_present&nbsp;:&nbsp;bool<br>
register&nbsp;rvfi_mem_data&nbsp;:&nbsp;RVFI_DII_Execution_Packet_Ext_MemAccess<br>
register&nbsp;rvfi_mem_data_present&nbsp;:&nbsp;bool<br>
<br>
//&nbsp;Reset&nbsp;the&nbsp;trace<br>
val&nbsp;rvfi_zero_exec_packet&nbsp;:&nbsp;unit&nbsp;-&gt;&nbsp;unit<br>
<br>
function&nbsp;rvfi_zero_exec_packet&nbsp;()&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;rvfi_inst_data&nbsp;=&nbsp;Mk_RVFI_DII_Execution_Packet_InstMetaData(zero_extend(0b0));<br>
&nbsp;&nbsp;rvfi_pc_data&nbsp;=&nbsp;Mk_RVFI_DII_Execution_Packet_PC(zero_extend(0b0));<br>
&nbsp;&nbsp;rvfi_int_data&nbsp;=&nbsp;Mk_RVFI_DII_Execution_Packet_Ext_Integer(zero_extend(0x0));<br>
&nbsp;&nbsp;//&nbsp;magic&nbsp;=&nbsp;&quot;int-data&quot;&nbsp;-&gt;&nbsp;0x617461642d746e69&nbsp;(big-endian)<br>
&nbsp;&nbsp;rvfi_int_data&nbsp;=&nbsp;update_magic(rvfi_int_data,&nbsp;0x617461642d746e69);<br>
&nbsp;&nbsp;rvfi_int_data_present&nbsp;=&nbsp;false;<br>
&nbsp;&nbsp;rvfi_mem_data&nbsp;=&nbsp;Mk_RVFI_DII_Execution_Packet_Ext_MemAccess(zero_extend(0x0));<br>
&nbsp;&nbsp;//&nbsp;magic&nbsp;=&nbsp;&quot;mem-data&quot;&nbsp;-&gt;&nbsp;0x617461642d6d656d&nbsp;(big-endian)<br>
&nbsp;&nbsp;rvfi_mem_data&nbsp;=&nbsp;update_magic(rvfi_mem_data,&nbsp;0x617461642d6d656d);<br>
&nbsp;&nbsp;rvfi_mem_data_present&nbsp;=&nbsp;false;<br>
}<br>
<br>
//&nbsp;FIXME:&nbsp;most&nbsp;of&nbsp;these&nbsp;will&nbsp;no&nbsp;longer&nbsp;be&nbsp;necessary&nbsp;once&nbsp;we&nbsp;use&nbsp;the&nbsp;c2&nbsp;sail&nbsp;backend.<br>
<br>
val&nbsp;rvfi_halt_exec_packet&nbsp;:&nbsp;unit&nbsp;-&gt;&nbsp;unit<br>
<br>
function&nbsp;rvfi_halt_exec_packet&nbsp;()&nbsp;=<br>
&nbsp;&nbsp;rvfi_inst_data-&gt;rvfi_halt()&nbsp;=&nbsp;0x01<br>
<br>
val&nbsp;rvfi_get_v2_support_packet&nbsp;:&nbsp;unit&nbsp;-&gt;&nbsp;bits(704)<br>
function&nbsp;rvfi_get_v2_support_packet&nbsp;()&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;let&nbsp;rvfi_exec&nbsp;=&nbsp;Mk_RVFI_DII_Execution_Packet_V1(zero_extend(0b0));<br>
&nbsp;&nbsp;//&nbsp;Returning&nbsp;0x3&nbsp;(using&nbsp;the&nbsp;unused&nbsp;high&nbsp;bits)&nbsp;in&nbsp;halt&nbsp;instead&nbsp;of&nbsp;0x1&nbsp;means<br>
&nbsp;&nbsp;//&nbsp;that&nbsp;we&nbsp;support&nbsp;the&nbsp;version&nbsp;2&nbsp;wire&nbsp;format.&nbsp;This&nbsp;is&nbsp;required&nbsp;to&nbsp;keep<br>
&nbsp;&nbsp;//&nbsp;backwards&nbsp;compatibility&nbsp;with&nbsp;old&nbsp;implementations&nbsp;that&nbsp;do&nbsp;not&nbsp;support<br>
&nbsp;&nbsp;//&nbsp;the&nbsp;new&nbsp;trace&nbsp;format.<br>
&nbsp;&nbsp;let&nbsp;rvfi_exec&nbsp;=&nbsp;update_rvfi_halt(rvfi_exec,&nbsp;0x03);<br>
&nbsp;&nbsp;return&nbsp;rvfi_exec.bits();<br>
}<br>
<br>
val&nbsp;rvfi_get_exec_packet_v1&nbsp;:&nbsp;unit&nbsp;-&gt;&nbsp;bits(704)<br>
function&nbsp;rvfi_get_exec_packet_v1&nbsp;()&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;Mk_RVFI_DII_Execution_Packet_V1(zero_extend(0b0));<br>
&nbsp;&nbsp;//&nbsp;Convert&nbsp;the&nbsp;v2&nbsp;packet&nbsp;to&nbsp;a&nbsp;v1&nbsp;packet<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_intr(v1_packet,&nbsp;rvfi_inst_data.rvfi_intr());<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_halt(v1_packet,&nbsp;rvfi_inst_data.rvfi_halt());<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_trap(v1_packet,&nbsp;rvfi_inst_data.rvfi_trap());<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_insn(v1_packet,&nbsp;rvfi_inst_data.rvfi_insn());<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_order(v1_packet,&nbsp;rvfi_inst_data.rvfi_order());<br>
<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_pc_wdata(v1_packet,&nbsp;rvfi_pc_data.rvfi_pc_wdata());<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_pc_rdata(v1_packet,&nbsp;rvfi_pc_data.rvfi_pc_rdata());<br>
<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_rd_addr(v1_packet,&nbsp;rvfi_int_data.rvfi_rd_addr());<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_rs2_addr(v1_packet,&nbsp;rvfi_int_data.rvfi_rs2_addr());<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_rs1_addr(v1_packet,&nbsp;rvfi_int_data.rvfi_rs1_addr());<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_rd_wdata(v1_packet,&nbsp;rvfi_int_data.rvfi_rd_wdata());<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_rs2_data(v1_packet,&nbsp;rvfi_int_data.rvfi_rs2_rdata());<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_rs1_data(v1_packet,&nbsp;rvfi_int_data.rvfi_rs1_rdata());<br>
<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_mem_wmask(v1_packet,&nbsp;truncate(rvfi_mem_data.rvfi_mem_wmask(),&nbsp;8));<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_mem_rmask(v1_packet,&nbsp;truncate(rvfi_mem_data.rvfi_mem_rmask(),&nbsp;8));<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_mem_wdata(v1_packet,&nbsp;truncate(rvfi_mem_data.rvfi_mem_wdata(),&nbsp;64));<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_mem_rdata(v1_packet,&nbsp;truncate(rvfi_mem_data.rvfi_mem_rdata(),&nbsp;64));<br>
&nbsp;&nbsp;let&nbsp;v1_packet&nbsp;=&nbsp;update_rvfi_mem_addr(v1_packet,&nbsp;rvfi_mem_data.rvfi_mem_addr());<br>
<br>
&nbsp;&nbsp;return&nbsp;v1_packet.bits();<br>
}<br>
<br>
val&nbsp;rvfi_get_v2_trace_size&nbsp;:&nbsp;unit&nbsp;-&gt;&nbsp;bits(64)<br>
function&nbsp;rvfi_get_v2_trace_size&nbsp;()&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;let&nbsp;trace_size&nbsp;:&nbsp;bits(64)&nbsp;=&nbsp;to_bits(64,&nbsp;512);<br>
&nbsp;&nbsp;let&nbsp;trace_size&nbsp;=&nbsp;if&nbsp;(rvfi_int_data_present)&nbsp;then&nbsp;trace_size&nbsp;+&nbsp;320&nbsp;else&nbsp;trace_size;<br>
&nbsp;&nbsp;let&nbsp;trace_size&nbsp;=&nbsp;if&nbsp;(rvfi_mem_data_present)&nbsp;then&nbsp;trace_size&nbsp;+&nbsp;704&nbsp;else&nbsp;trace_size;<br>
&nbsp;&nbsp;return&nbsp;trace_size&nbsp;&gt;&gt;&nbsp;3;&nbsp;//&nbsp;we&nbsp;have&nbsp;to&nbsp;return&nbsp;bytes&nbsp;not&nbsp;bits<br>
}<br>
<br>
val&nbsp;rvfi_get_exec_packet_v2&nbsp;:&nbsp;unit&nbsp;-&gt;&nbsp;bits(512)<br>
function&nbsp;rvfi_get_exec_packet_v2&nbsp;()&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;//&nbsp;TODO:&nbsp;add&nbsp;the&nbsp;other&nbsp;data<br>
&nbsp;&nbsp;//&nbsp;TODO:&nbsp;find&nbsp;a&nbsp;way&nbsp;to&nbsp;return&nbsp;a&nbsp;variable-length&nbsp;bitvector<br>
&nbsp;&nbsp;let&nbsp;packet&nbsp;=&nbsp;Mk_RVFI_DII_Execution_PacketV2(zero_extend(0b0));<br>
&nbsp;&nbsp;let&nbsp;packet&nbsp;=&nbsp;update_magic(packet,&nbsp;0x32762d6563617274);&nbsp;//&nbsp;ASCII&nbsp;&quot;trace-v2&quot;&nbsp;(BE)<br>
&nbsp;&nbsp;let&nbsp;packet&nbsp;=&nbsp;update_basic_data(packet,&nbsp;rvfi_inst_data.bits());<br>
&nbsp;&nbsp;let&nbsp;packet&nbsp;=&nbsp;update_pc_data(packet,&nbsp;rvfi_pc_data.bits());<br>
&nbsp;&nbsp;let&nbsp;packet&nbsp;=&nbsp;update_integer_data_available(packet,&nbsp;bool_to_bits(rvfi_int_data_present));<br>
&nbsp;&nbsp;let&nbsp;packet&nbsp;=&nbsp;update_memory_access_data_available(packet,&nbsp;bool_to_bits(rvfi_mem_data_present));<br>
&nbsp;&nbsp;//&nbsp;To&nbsp;simplify&nbsp;the&nbsp;implementation&nbsp;(so&nbsp;that&nbsp;we&nbsp;can&nbsp;return&nbsp;a&nbsp;fixed-size&nbsp;vector)<br>
&nbsp;&nbsp;//&nbsp;we&nbsp;always&nbsp;return&nbsp;a&nbsp;max-size&nbsp;packet&nbsp;from&nbsp;this&nbsp;function,&nbsp;and&nbsp;the&nbsp;C&nbsp;emulator<br>
&nbsp;&nbsp;//&nbsp;ensures&nbsp;that&nbsp;only&nbsp;trace_size&nbsp;bits&nbsp;are&nbsp;sent&nbsp;over&nbsp;the&nbsp;socket.<br>
&nbsp;&nbsp;let&nbsp;packet&nbsp;=&nbsp;update_trace_size(packet,&nbsp;rvfi_get_v2_trace_size());<br>
&nbsp;&nbsp;return&nbsp;packet.bits();<br>
}<br>
<br>
val&nbsp;rvfi_get_int_data&nbsp;:&nbsp;unit&nbsp;-&gt;&nbsp;bits(320)<br>
function&nbsp;rvfi_get_int_data&nbsp;()&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;assert(rvfi_int_data_present,&nbsp;&quot;reading&nbsp;uninitialized&nbsp;data&quot;);<br>
&nbsp;&nbsp;return&nbsp;rvfi_int_data.bits();<br>
}<br>
<br>
val&nbsp;rvfi_get_mem_data&nbsp;:&nbsp;unit&nbsp;-&gt;&nbsp;bits(704)<br>
function&nbsp;rvfi_get_mem_data&nbsp;()&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;assert(rvfi_mem_data_present,&nbsp;&quot;reading&nbsp;uninitialized&nbsp;data&quot;);<br>
&nbsp;&nbsp;return&nbsp;rvfi_mem_data.bits();<br>
}<br>
<br>
val&nbsp;rvfi_encode_width_mask&nbsp;:&nbsp;forall&nbsp;'n,&nbsp;0&nbsp;&lt;&nbsp;'n&nbsp;&lt;=&nbsp;32.&nbsp;atom('n)&nbsp;-&gt;&nbsp;bits(32)<br>
<br>
function&nbsp;rvfi_encode_width_mask(width)&nbsp;=<br>
&nbsp;&nbsp;(0xFFFFFFFF&nbsp;&gt;&gt;&nbsp;(32&nbsp;-&nbsp;width))<br>
<br>
val&nbsp;print_rvfi_exec&nbsp;:&nbsp;unit&nbsp;-&gt;&nbsp;unit<br>
<br>
function&nbsp;print_rvfi_exec&nbsp;()&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_intr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&quot;,&nbsp;rvfi_inst_data.rvfi_intr());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_halt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&quot;,&nbsp;rvfi_inst_data.rvfi_halt());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_trap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&quot;,&nbsp;rvfi_inst_data.rvfi_trap());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_rd_addr&nbsp;&nbsp;:&nbsp;&quot;,&nbsp;rvfi_int_data.rvfi_rd_addr());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_rs2_addr&nbsp;:&nbsp;&quot;,&nbsp;rvfi_int_data.rvfi_rs2_addr());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_rs1_addr&nbsp;:&nbsp;&quot;,&nbsp;rvfi_int_data.rvfi_rs1_addr());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_mem_wmask:&nbsp;&quot;,&nbsp;rvfi_mem_data.rvfi_mem_wmask());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_mem_rmask:&nbsp;&quot;,&nbsp;rvfi_mem_data.rvfi_mem_rmask());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_mem_wdata:&nbsp;&quot;,&nbsp;rvfi_mem_data.rvfi_mem_wdata());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_mem_rdata:&nbsp;&quot;,&nbsp;rvfi_mem_data.rvfi_mem_rdata());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_mem_addr&nbsp;:&nbsp;&quot;,&nbsp;rvfi_mem_data.rvfi_mem_addr());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_rd_wdata&nbsp;:&nbsp;&quot;,&nbsp;rvfi_int_data.rvfi_rd_wdata());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_rs2_data&nbsp;:&nbsp;&quot;,&nbsp;rvfi_int_data.rvfi_rs2_rdata());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_rs1_data&nbsp;:&nbsp;&quot;,&nbsp;rvfi_int_data.rvfi_rs1_rdata());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_insn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&quot;,&nbsp;rvfi_inst_data.rvfi_insn());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_pc_wdata&nbsp;:&nbsp;&quot;,&nbsp;rvfi_pc_data.rvfi_pc_wdata());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_pc_rdata&nbsp;:&nbsp;&quot;,&nbsp;rvfi_pc_data.rvfi_pc_rdata());<br>
&nbsp;&nbsp;print_bits(&quot;rvfi_order&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&quot;,&nbsp;rvfi_inst_data.rvfi_order());<br>
}<br>
</code>
</body>
</html>
