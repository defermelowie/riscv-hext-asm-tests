<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>riscv_insts_zfa</title></head>
<body>
<h1>riscv_insts_zfa.sail (11/322) 3%</h1>
<code style="display: block">
/*=======================================================================================*/<br>
/*&nbsp;&nbsp;RISCV&nbsp;Sail&nbsp;Model&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;This&nbsp;Sail&nbsp;RISC-V&nbsp;architecture&nbsp;model,&nbsp;comprising&nbsp;all&nbsp;files&nbsp;and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;directories&nbsp;except&nbsp;for&nbsp;the&nbsp;snapshots&nbsp;of&nbsp;the&nbsp;Lem&nbsp;and&nbsp;Sail&nbsp;libraries&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;in&nbsp;the&nbsp;prover_snapshots&nbsp;directory&nbsp;(which&nbsp;include&nbsp;copies&nbsp;of&nbsp;their&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;licences),&nbsp;is&nbsp;subject&nbsp;to&nbsp;the&nbsp;BSD&nbsp;two-clause&nbsp;licence&nbsp;below.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2017-2023&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Prashanth&nbsp;Mundkur&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Rishiyur&nbsp;S.&nbsp;Nikhil&nbsp;and&nbsp;Bluespec,&nbsp;Inc.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Jon&nbsp;French&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Brian&nbsp;Campbell&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Robert&nbsp;Norton-Wright&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Alasdair&nbsp;Armstrong&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Thomas&nbsp;Bauereiss&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Shaked&nbsp;Flur&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Christopher&nbsp;Pulte&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Peter&nbsp;Sewell&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Alexander&nbsp;Richardson&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Hesham&nbsp;Almatary&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Jessica&nbsp;Clarke&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Microsoft,&nbsp;for&nbsp;contributions&nbsp;by&nbsp;Robert&nbsp;Norton-Wright&nbsp;and&nbsp;Nathaniel&nbsp;Wesley&nbsp;Filardo&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Peter&nbsp;Rugg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Aril&nbsp;Computer&nbsp;Corp.,&nbsp;for&nbsp;contributions&nbsp;by&nbsp;Scott&nbsp;Johnson&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;Philipp&nbsp;Tomsich&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;VRULL&nbsp;GmbH,&nbsp;for&nbsp;contributions&nbsp;by&nbsp;its&nbsp;employees&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;This&nbsp;software&nbsp;was&nbsp;developed&nbsp;by&nbsp;the&nbsp;above&nbsp;within&nbsp;the&nbsp;Rigorous&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;Engineering&nbsp;of&nbsp;Mainstream&nbsp;Systems&nbsp;(REMS)&nbsp;project,&nbsp;partly&nbsp;funded&nbsp;by&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;EPSRC&nbsp;grant&nbsp;EP/K008528/1,&nbsp;at&nbsp;the&nbsp;Universities&nbsp;of&nbsp;Cambridge&nbsp;and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;Edinburgh.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;This&nbsp;software&nbsp;was&nbsp;developed&nbsp;by&nbsp;SRI&nbsp;International&nbsp;and&nbsp;the&nbsp;University&nbsp;of&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;Cambridge&nbsp;Computer&nbsp;Laboratory&nbsp;(Department&nbsp;of&nbsp;Computer&nbsp;Science&nbsp;and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;Technology)&nbsp;under&nbsp;DARPA/AFRL&nbsp;contract&nbsp;FA8650-18-C-7809&nbsp;(&quot;CIFV&quot;),&nbsp;and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;under&nbsp;DARPA&nbsp;contract&nbsp;HR0011-18-C-0016&nbsp;(&quot;ECATS&quot;)&nbsp;as&nbsp;part&nbsp;of&nbsp;the&nbsp;DARPA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;SSITH&nbsp;research&nbsp;programme.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;This&nbsp;project&nbsp;has&nbsp;received&nbsp;funding&nbsp;from&nbsp;the&nbsp;European&nbsp;Research&nbsp;Council&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;(ERC)&nbsp;under&nbsp;the&nbsp;European&nbsp;Unionâ€™s&nbsp;Horizon&nbsp;2020&nbsp;research&nbsp;and&nbsp;innovation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;programme&nbsp;(grant&nbsp;agreement&nbsp;789108,&nbsp;ELVER).&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;Redistribution&nbsp;and&nbsp;use&nbsp;in&nbsp;source&nbsp;and&nbsp;binary&nbsp;forms,&nbsp;with&nbsp;or&nbsp;without&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;modification,&nbsp;are&nbsp;permitted&nbsp;provided&nbsp;that&nbsp;the&nbsp;following&nbsp;conditions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;are&nbsp;met:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;1.&nbsp;Redistributions&nbsp;of&nbsp;source&nbsp;code&nbsp;must&nbsp;retain&nbsp;the&nbsp;above&nbsp;copyright&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;2.&nbsp;Redistributions&nbsp;in&nbsp;binary&nbsp;form&nbsp;must&nbsp;reproduce&nbsp;the&nbsp;above&nbsp;copyright&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice,&nbsp;this&nbsp;list&nbsp;of&nbsp;conditions&nbsp;and&nbsp;the&nbsp;following&nbsp;disclaimer&nbsp;in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;documentation&nbsp;and/or&nbsp;other&nbsp;materials&nbsp;provided&nbsp;with&nbsp;the&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;distribution.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;PROVIDED&nbsp;BY&nbsp;THE&nbsp;AUTHOR&nbsp;AND&nbsp;CONTRIBUTORS&nbsp;``AS&nbsp;IS''&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;AND&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED&nbsp;WARRANTIES,&nbsp;INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;LIMITED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;TO,&nbsp;THE&nbsp;IMPLIED&nbsp;WARRANTIES&nbsp;OF&nbsp;MERCHANTABILITY&nbsp;AND&nbsp;FITNESS&nbsp;FOR&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;PARTICULAR&nbsp;PURPOSE&nbsp;ARE&nbsp;DISCLAIMED.&nbsp;&nbsp;IN&nbsp;NO&nbsp;EVENT&nbsp;SHALL&nbsp;THE&nbsp;AUTHOR&nbsp;OR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;CONTRIBUTORS&nbsp;BE&nbsp;LIABLE&nbsp;FOR&nbsp;ANY&nbsp;DIRECT,&nbsp;INDIRECT,&nbsp;INCIDENTAL,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;SPECIAL,&nbsp;EXEMPLARY,&nbsp;OR&nbsp;CONSEQUENTIAL&nbsp;DAMAGES&nbsp;(INCLUDING,&nbsp;BUT&nbsp;NOT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;LIMITED&nbsp;TO,&nbsp;PROCUREMENT&nbsp;OF&nbsp;SUBSTITUTE&nbsp;GOODS&nbsp;OR&nbsp;SERVICES;&nbsp;LOSS&nbsp;OF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;USE,&nbsp;DATA,&nbsp;OR&nbsp;PROFITS;&nbsp;OR&nbsp;BUSINESS&nbsp;INTERRUPTION)&nbsp;HOWEVER&nbsp;CAUSED&nbsp;AND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;ON&nbsp;ANY&nbsp;THEORY&nbsp;OF&nbsp;LIABILITY,&nbsp;WHETHER&nbsp;IN&nbsp;CONTRACT,&nbsp;STRICT&nbsp;LIABILITY,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;OR&nbsp;TORT&nbsp;(INCLUDING&nbsp;NEGLIGENCE&nbsp;OR&nbsp;OTHERWISE)&nbsp;ARISING&nbsp;IN&nbsp;ANY&nbsp;WAY&nbsp;OUT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;OF&nbsp;THE&nbsp;USE&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE,&nbsp;EVEN&nbsp;IF&nbsp;ADVISED&nbsp;OF&nbsp;THE&nbsp;POSSIBILITY&nbsp;OF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*&nbsp;&nbsp;SUCH&nbsp;DAMAGE.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
/*=======================================================================================*/<br>
<br>
/*&nbsp;FLI.H&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FLI_H&nbsp;:&nbsp;(bits(5),&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FLI_H(rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveZfh()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b111_1010&nbsp;@&nbsp;0b00001&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b000&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveZfh()&nbsp;&&nbsp;haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FLI_H(constantidx,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fli.h&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_5(constantidx)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FLI_H(constantidx,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;bits&nbsp;:&nbsp;bits(16)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 75%)">match&nbsp;constantidx&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00000&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0xbc00&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;-1.0&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00001&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x0400&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;minimum&nbsp;positive&nbsp;normal&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00010&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x0100&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-16&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00011&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x0200&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-15&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00100&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x1c00&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-8&nbsp;&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00101&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x2000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-7&nbsp;&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00110&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x2c00&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-4&nbsp;&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00111&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-3&nbsp;&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01000&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3400&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.25&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01001&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3500&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.3125&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01010&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3600&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.375&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01011&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3700&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.4375&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01100&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3800&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.5&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01101&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3900&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.625&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01110&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3a00&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.75&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01111&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3b00&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.875&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10000&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3c00&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10001&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3d00&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.25&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10010&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3e00&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.5&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10011&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3f00&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.75&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10100&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x4000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2.0&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10101&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x4100&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2.5&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10110&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x4200&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;3&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10111&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x4400&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;4&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11000&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x4800&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;8&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11001&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x4c00&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;16&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11010&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x5800&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2^7&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11011&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x5c00&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2^8&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11100&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x7800&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2^15&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11101&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x7c00&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2^16&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11110&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x7c00&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;+inf&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11111&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;canonical_NaN_H()&nbsp;}</span>,<br>
&nbsp;&nbsp;}</span>;<br>
&nbsp;&nbsp;F_H(rd)&nbsp;=&nbsp;bits;<br>
&nbsp;&nbsp;RETIRE_SUCCESS<br>
}</span><br>
<br>
/*&nbsp;FLI.S&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FLI_S&nbsp;:&nbsp;(bits(5),&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FLI_S(rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">0b111_1000&nbsp;@&nbsp;0b00001&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b000&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FLI_S(constantidx,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fli.s&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_5(constantidx)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FLI_S(constantidx,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;bits&nbsp;:&nbsp;bits(32)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 75%)">match&nbsp;constantidx&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00000&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0xbf800000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;-1.0&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00001&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x00800000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;minimum&nbsp;positive&nbsp;normal&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00010&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x37800000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-16&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00011&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x38000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-15&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00100&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3b800000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-8&nbsp;&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00101&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3c000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-7&nbsp;&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00110&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3d800000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-4&nbsp;&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00111&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3e000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-3&nbsp;&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01000&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3e800000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.25&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01001&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3ea00000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.3125&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01010&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3ec00000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.375&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01011&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3ee00000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.4375&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01100&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3f000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.5&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01101&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3f200000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.625&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01110&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3f400000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.75&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01111&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3f600000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.875&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10000&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3f800000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10001&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3fa00000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.25&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10010&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3fc00000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.5&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10011&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3fe00000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.75&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10100&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x40000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2.0&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10101&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x40200000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2.5&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10110&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x40400000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;3&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10111&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x40800000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;4&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11000&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x41000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;8&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11001&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x41800000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;16&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11010&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x43000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2^7&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11011&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x43800000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2^8&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11100&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x47000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2^15&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11101&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x47800000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2^16&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11110&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x7f800000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;+inf&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11111&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;canonical_NaN_S()&nbsp;}</span>,<br>
&nbsp;&nbsp;}</span>;<br>
&nbsp;&nbsp;F_S(rd)&nbsp;=&nbsp;bits;<br>
&nbsp;&nbsp;RETIRE_SUCCESS<br>
}</span><br>
<br>
/*&nbsp;FLI.D&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FLI_D&nbsp;:&nbsp;(bits(5),&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FLI_D(rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveDExt()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b111_1001&nbsp;@&nbsp;0b00001&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b000&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveDExt()&nbsp;&&nbsp;haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FLI_D(constantidx,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fli.d&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_5(constantidx)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FLI_D(constantidx,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;bits&nbsp;:&nbsp;bits(64)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 75%)">match&nbsp;constantidx&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00000&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0xbff0000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;-1.0&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00001&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x0010000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;minimum&nbsp;positive&nbsp;normal&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00010&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3Ef0000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-16&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00011&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3f00000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-15&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00100&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3f70000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-8&nbsp;&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00101&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3f80000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-7&nbsp;&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00110&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3fb0000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-4&nbsp;&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b00111&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3fc0000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*&nbsp;2^-3&nbsp;&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01000&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3fd0000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.25&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01001&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3fd4000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.3125&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01010&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3fd8000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.375&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01011&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3fdc000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.4375&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01100&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3fe0000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.5&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01101&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3fe4000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.625&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01110&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3fe8000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.75&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b01111&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3fec000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;0.875&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10000&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3ff0000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.0&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10001&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3ff4000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.25&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10010&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3ff8000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.5&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10011&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x3ffc000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;1.75&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10100&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x4000000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2.0&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10101&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x4004000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2.5&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10110&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x4008000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;3&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b10111&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x4010000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;4&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11000&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x4020000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;8&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11001&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x4030000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;16&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11010&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x4060000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2^7&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11011&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x4070000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2^8&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11100&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x40e0000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2^15&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11101&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x40f0000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;2^16&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11110&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;0x7ff0000000000000&nbsp;}</span>,&nbsp;&nbsp;/*&nbsp;+inf&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;0b11111&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;canonical_NaN_D()&nbsp;}</span>,<br>
&nbsp;&nbsp;}</span>;<br>
&nbsp;&nbsp;F_D(rd)&nbsp;=&nbsp;bits;<br>
&nbsp;&nbsp;RETIRE_SUCCESS<br>
}</span><br>
<br>
/*&nbsp;FMINM.H&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FMINM_H&nbsp;:&nbsp;(regidx,&nbsp;regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FMINM_H(rs2,&nbsp;rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveZfh()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b001_0110&nbsp;@&nbsp;rs2&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b010&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveZfh()&nbsp;&&nbsp;haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FMINM_H(rs2,&nbsp;rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fminm.h&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs2)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FMINM_H(rs2,&nbsp;rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_H&nbsp;=&nbsp;F_H(rs1);<br>
&nbsp;&nbsp;let&nbsp;rs2_val_H&nbsp;=&nbsp;F_H(rs2);<br>
<br>
&nbsp;&nbsp;let&nbsp;is_quiet&nbsp;&nbsp;=&nbsp;true;<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;(rs1_lt_rs2,&nbsp;fflags)&nbsp;=&nbsp;fle_H&nbsp;(rs1_val_H,&nbsp;rs2_val_H,&nbsp;is_quiet);<br>
<br>
&nbsp;&nbsp;let&nbsp;rd_val_H&nbsp;&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 70%)">if&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style="background-color: hsl(0, 85%, 65%)">f_is_NaN_H(rs1_val_H)&nbsp;|&nbsp;<span style="background-color: hsl(0, 85%, 60%)">f_is_NaN_H(rs2_val_H)</span></span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;canonical_NaN_H()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 65%)">if&nbsp;(<span style="background-color: hsl(0, 85%, 60%)">f_is_neg_zero_H(rs1_val_H)&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 55%)">f_is_pos_zero_H(rs2_val_H)</span></span>)&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 60%)">rs1_val_H</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 60%)">if&nbsp;(<span style="background-color: hsl(0, 85%, 55%)">f_is_neg_zero_H(rs2_val_H)&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 50%)">f_is_pos_zero_H(rs1_val_H)</span></span>)&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 55%)">rs2_val_H</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 55%)">if&nbsp;rs1_lt_rs2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 50%)">rs1_val_H</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;/*&nbsp;(not&nbsp;rs1_lt_rs2)&nbsp;*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 50%)">rs2_val_H</span></span></span></span></span>;<br>
<br>
&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;F_H(rd)&nbsp;=&nbsp;rd_val_H;<br>
&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
}</span><br>
<br>
/*&nbsp;FMAXM.H&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FMAXM_H&nbsp;:&nbsp;(regidx,&nbsp;regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FMAXM_H(rs2,&nbsp;rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveZfh()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b001_0110&nbsp;@&nbsp;rs2&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b011&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveZfh()&nbsp;&&nbsp;haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FMAXM_H(rs2,&nbsp;rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fmaxm.h&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs2)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FMAXM_H(rs2,&nbsp;rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_H&nbsp;=&nbsp;F_H(rs1);<br>
&nbsp;&nbsp;let&nbsp;rs2_val_H&nbsp;=&nbsp;F_H(rs2);<br>
<br>
&nbsp;&nbsp;let&nbsp;is_quiet&nbsp;&nbsp;=&nbsp;true;<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;(rs2_lt_rs1,&nbsp;fflags)&nbsp;=&nbsp;fle_H&nbsp;(rs2_val_H,&nbsp;rs1_val_H,&nbsp;is_quiet);<br>
<br>
&nbsp;&nbsp;let&nbsp;rd_val_H&nbsp;=&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">if&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style="background-color: hsl(0, 85%, 65%)">f_is_NaN_H(rs1_val_H)&nbsp;|&nbsp;<span style="background-color: hsl(0, 85%, 60%)">f_is_NaN_H(rs2_val_H)</span></span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;canonical_NaN_H()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 65%)">if&nbsp;(<span style="background-color: hsl(0, 85%, 60%)">f_is_neg_zero_H(rs1_val_H)&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 55%)">f_is_pos_zero_H(rs2_val_H)</span></span>)&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 60%)">rs2_val_H</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 60%)">if&nbsp;(<span style="background-color: hsl(0, 85%, 55%)">f_is_neg_zero_H(rs2_val_H)&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 50%)">f_is_pos_zero_H(rs1_val_H)</span></span>)&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 55%)">rs1_val_H</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 55%)">if&nbsp;rs2_lt_rs1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 50%)">rs1_val_H</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;/*&nbsp;(not&nbsp;rs2_lt_rs1)&nbsp;*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 50%)">rs2_val_H</span></span></span></span></span>;<br>
<br>
&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;F_H(rd)&nbsp;=&nbsp;rd_val_H;<br>
&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
}</span><br>
<br>
/*&nbsp;FMINM.S&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FMINM_S&nbsp;:&nbsp;(regidx,&nbsp;regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FMINM_S(rs2,&nbsp;rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">0b001_0100&nbsp;@&nbsp;rs2&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b010&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FMINM_S(rs2,&nbsp;rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fminm.s&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs2)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FMINM_S(rs2,&nbsp;rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_S&nbsp;=&nbsp;F_S(rs1);<br>
&nbsp;&nbsp;let&nbsp;rs2_val_S&nbsp;=&nbsp;F_S(rs2);<br>
<br>
&nbsp;&nbsp;let&nbsp;is_quiet&nbsp;&nbsp;=&nbsp;true;<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;(rs1_lt_rs2,&nbsp;fflags)&nbsp;=&nbsp;fle_S&nbsp;(rs1_val_S,&nbsp;rs2_val_S,&nbsp;is_quiet);<br>
<br>
&nbsp;&nbsp;let&nbsp;rd_val_S&nbsp;&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 70%)">if&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style="background-color: hsl(0, 85%, 65%)">f_is_NaN_S(rs1_val_S)&nbsp;|&nbsp;<span style="background-color: hsl(0, 85%, 60%)">f_is_NaN_S(rs2_val_S)</span></span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;canonical_NaN_S()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 65%)">if&nbsp;(<span style="background-color: hsl(0, 85%, 60%)">f_is_neg_zero_S(rs1_val_S)&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 55%)">f_is_pos_zero_S(rs2_val_S)</span></span>)&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 60%)">rs1_val_S</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 60%)">if&nbsp;(<span style="background-color: hsl(0, 85%, 55%)">f_is_neg_zero_S(rs2_val_S)&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 50%)">f_is_pos_zero_S(rs1_val_S)</span></span>)&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 55%)">rs2_val_S</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 55%)">if&nbsp;rs1_lt_rs2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 50%)">rs1_val_S</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;/*&nbsp;(not&nbsp;rs1_lt_rs2)&nbsp;*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 50%)">rs2_val_S</span></span></span></span></span>;<br>
<br>
&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;F_S(rd)&nbsp;=&nbsp;rd_val_S;<br>
&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
}</span><br>
<br>
/*&nbsp;FMAXM.S&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FMAXM_S&nbsp;:&nbsp;(regidx,&nbsp;regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FMAXM_S(rs2,&nbsp;rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">0b001_0100&nbsp;@&nbsp;rs2&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b011&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FMAXM_S(rs2,&nbsp;rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fmaxm.s&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs2)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FMAXM_S(rs2,&nbsp;rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_S&nbsp;=&nbsp;F_S(rs1);<br>
&nbsp;&nbsp;let&nbsp;rs2_val_S&nbsp;=&nbsp;F_S(rs2);<br>
<br>
&nbsp;&nbsp;let&nbsp;is_quiet&nbsp;&nbsp;=&nbsp;true;<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;(rs2_lt_rs1,&nbsp;fflags)&nbsp;=&nbsp;fle_S&nbsp;(rs2_val_S,&nbsp;rs1_val_S,&nbsp;is_quiet);<br>
<br>
&nbsp;&nbsp;let&nbsp;rd_val_S&nbsp;&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 70%)">if&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style="background-color: hsl(0, 85%, 65%)">f_is_NaN_S(rs1_val_S)&nbsp;|&nbsp;<span style="background-color: hsl(0, 85%, 60%)">f_is_NaN_S(rs2_val_S)</span></span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;canonical_NaN_S()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 65%)">if&nbsp;(<span style="background-color: hsl(0, 85%, 60%)">f_is_neg_zero_S(rs1_val_S)&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 55%)">f_is_pos_zero_S(rs2_val_S)</span></span>)&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 60%)">rs2_val_S</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 60%)">if&nbsp;(<span style="background-color: hsl(0, 85%, 55%)">f_is_neg_zero_S(rs2_val_S)&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 50%)">f_is_pos_zero_S(rs1_val_S)</span></span>)&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 55%)">rs1_val_S</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 55%)">if&nbsp;rs2_lt_rs1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 50%)">rs1_val_S</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;/*&nbsp;(not&nbsp;rs2_lt_rs1)&nbsp;*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 50%)">rs2_val_S</span></span></span></span></span>;<br>
<br>
&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;F_S(rd)&nbsp;=&nbsp;rd_val_S;<br>
&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
}</span><br>
<br>
/*&nbsp;FMINM.D&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FMINM_D&nbsp;:&nbsp;(regidx,&nbsp;regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FMINM_D(rs2,&nbsp;rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveDExt()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b001_0101&nbsp;@&nbsp;rs2&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b010&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveDExt()&nbsp;&&nbsp;haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FMINM_D(rs2,&nbsp;rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fminm.d&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs2)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FMINM_D(rs2,&nbsp;rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_D&nbsp;=&nbsp;F(rs1);<br>
&nbsp;&nbsp;let&nbsp;rs2_val_D&nbsp;=&nbsp;F(rs2);<br>
<br>
&nbsp;&nbsp;let&nbsp;is_quiet&nbsp;&nbsp;=&nbsp;true;<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;(rs1_lt_rs2,&nbsp;fflags)&nbsp;=&nbsp;fle_D&nbsp;(rs1_val_D,&nbsp;rs2_val_D,&nbsp;is_quiet);<br>
<br>
&nbsp;&nbsp;let&nbsp;rd_val_D&nbsp;&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 70%)">if&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style="background-color: hsl(0, 85%, 65%)">f_is_NaN_D(rs1_val_D)&nbsp;|&nbsp;<span style="background-color: hsl(0, 85%, 60%)">f_is_NaN_D(rs2_val_D)</span></span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;canonical_NaN_D()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 65%)">if&nbsp;(<span style="background-color: hsl(0, 85%, 60%)">f_is_neg_zero_D(rs1_val_D)&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 55%)">f_is_pos_zero_D(rs2_val_D)</span></span>)&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 60%)">rs1_val_D</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 60%)">if&nbsp;(<span style="background-color: hsl(0, 85%, 55%)">f_is_neg_zero_D(rs2_val_D)&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 50%)">f_is_pos_zero_D(rs1_val_D)</span></span>)&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 55%)">rs2_val_D</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 55%)">if&nbsp;rs1_lt_rs2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 50%)">rs1_val_D</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 50%)">rs2_val_D</span></span></span></span></span>;<br>
<br>
&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;F(rd)&nbsp;=&nbsp;rd_val_D;<br>
&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
}</span><br>
<br>
/*&nbsp;FMAXM.D&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FMAXM_D&nbsp;:&nbsp;(regidx,&nbsp;regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FMAXM_D(rs2,&nbsp;rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveDExt()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b001_0101&nbsp;@&nbsp;rs2&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b011&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveDExt()&nbsp;&&nbsp;haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FMAXM_D(rs2,&nbsp;rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fmaxm.d&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs2)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FMAXM_D(rs2,&nbsp;rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_D&nbsp;=&nbsp;F(rs1);<br>
&nbsp;&nbsp;let&nbsp;rs2_val_D&nbsp;=&nbsp;F(rs2);<br>
<br>
&nbsp;&nbsp;let&nbsp;is_quiet&nbsp;&nbsp;=&nbsp;true;<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;(rs2_lt_rs1,&nbsp;fflags)&nbsp;=&nbsp;fle_D&nbsp;(rs2_val_D,&nbsp;rs1_val_D,&nbsp;is_quiet);<br>
<br>
&nbsp;&nbsp;let&nbsp;rd_val_D&nbsp;&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 70%)">if&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style="background-color: hsl(0, 85%, 65%)">f_is_NaN_D(rs1_val_D)&nbsp;|&nbsp;<span style="background-color: hsl(0, 85%, 60%)">f_is_NaN_D(rs2_val_D)</span></span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;canonical_NaN_D()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 65%)">if&nbsp;(<span style="background-color: hsl(0, 85%, 60%)">f_is_neg_zero_D(rs1_val_D)&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 55%)">f_is_pos_zero_D(rs2_val_D)</span></span>)&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 60%)">rs2_val_D</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 60%)">if&nbsp;(<span style="background-color: hsl(0, 85%, 55%)">f_is_neg_zero_D(rs2_val_D)&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 50%)">f_is_pos_zero_D(rs1_val_D)</span></span>)&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 55%)">rs1_val_D</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 55%)">if&nbsp;rs2_lt_rs1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 50%)">rs1_val_D</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 50%)">rs2_val_D</span></span></span></span></span>;<br>
<br>
&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;F(rd)&nbsp;=&nbsp;rd_val_D;<br>
&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
}</span><br>
<br>
/*&nbsp;FROUND.H&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FROUND_H&nbsp;:&nbsp;(regidx,&nbsp;rounding_mode,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FROUND_H(rs1,&nbsp;rm,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveZfh()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b010_0010&nbsp;@&nbsp;0b00100&nbsp;@&nbsp;rs1&nbsp;@&nbsp;encdec_rounding_mode(rm)&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 75%)">haveZfh()&nbsp;&&nbsp;haveZfa()</span></span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FROUND_H(rs1,&nbsp;rm,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fround.h&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;frm_mnemonic(rm)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FROUND_H(rs1,&nbsp;rm,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_H&nbsp;=&nbsp;F_H(rs1);<br>
<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">match&nbsp;(select_instr_or_fcsr_rm(rm))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;None()&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;handle_illegal();&nbsp;RETIRE_FAIL&nbsp;}</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Some(rm')&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;rm_3b&nbsp;=&nbsp;&nbsp;encdec_rounding_mode(rm');<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 65%)">let&nbsp;(fflags,&nbsp;rd_val_H)&nbsp;=&nbsp;riscv_f16roundToInt(rm_3b,&nbsp;rs1_val_H,&nbsp;false);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F_H(rd)&nbsp;=&nbsp;rd_val_H;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
&nbsp;&nbsp;}</span><br>
}</span><br>
<br>
/*&nbsp;FROUNDNX.H&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FROUNDNX_H&nbsp;:&nbsp;(regidx,&nbsp;rounding_mode,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FROUNDNX_H(rs1,&nbsp;rm,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveZfh()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b010_0010&nbsp;@&nbsp;0b00101&nbsp;@&nbsp;rs1&nbsp;@&nbsp;encdec_rounding_mode(rm)&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 75%)">haveZfh()&nbsp;&&nbsp;haveZfa()</span></span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FROUNDNX_H(rs1,&nbsp;rm,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;froundnx.h&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;frm_mnemonic(rm)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FROUNDNX_H(rs1,&nbsp;rm,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_H&nbsp;=&nbsp;F_H(rs1);<br>
<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">match&nbsp;(select_instr_or_fcsr_rm(rm))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;None()&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;handle_illegal();&nbsp;RETIRE_FAIL&nbsp;}</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Some(rm')&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;rm_3b&nbsp;=&nbsp;&nbsp;encdec_rounding_mode(rm');<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 65%)">let&nbsp;(fflags,&nbsp;rd_val_H)&nbsp;=&nbsp;riscv_f16roundToInt(rm_3b,&nbsp;rs1_val_H,&nbsp;true);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F_H(rd)&nbsp;=&nbsp;rd_val_H;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
&nbsp;&nbsp;}</span><br>
}</span><br>
<br>
/*&nbsp;FROUND.S&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FROUND_S&nbsp;:&nbsp;(regidx,&nbsp;rounding_mode,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FROUND_S(rs1,&nbsp;rm,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b010_0000&nbsp;@&nbsp;0b00100&nbsp;@&nbsp;rs1&nbsp;@&nbsp;encdec_rounding_mode(rm)&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;if&nbsp;haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FROUND_S(rs1,&nbsp;rm,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fround.s&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;frm_mnemonic(rm)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FROUND_S(rs1,&nbsp;rm,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_S&nbsp;=&nbsp;F_S(rs1);<br>
<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">match&nbsp;(select_instr_or_fcsr_rm(rm))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;None()&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;handle_illegal();&nbsp;RETIRE_FAIL&nbsp;}</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Some(rm')&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;rm_3b&nbsp;=&nbsp;&nbsp;encdec_rounding_mode(rm');<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 65%)">let&nbsp;(fflags,&nbsp;rd_val_S)&nbsp;=&nbsp;riscv_f32roundToInt(rm_3b,&nbsp;rs1_val_S,&nbsp;false);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F_S(rd)&nbsp;=&nbsp;rd_val_S;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
&nbsp;&nbsp;}</span><br>
}</span><br>
<br>
/*&nbsp;FROUNDNX.S&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FROUNDNX_S&nbsp;:&nbsp;(regidx,&nbsp;rounding_mode,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FROUNDNX_S(rs1,&nbsp;rm,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b010_0000&nbsp;@&nbsp;0b00101&nbsp;@&nbsp;rs1&nbsp;@&nbsp;encdec_rounding_mode(rm)&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;if&nbsp;haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FROUNDNX_S(rs1,&nbsp;rm,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;froundnx.s&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;frm_mnemonic(rm)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FROUNDNX_S(rs1,&nbsp;rm,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_S&nbsp;=&nbsp;F_S(rs1);<br>
<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">match&nbsp;(select_instr_or_fcsr_rm(rm))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;None()&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;handle_illegal();&nbsp;RETIRE_FAIL&nbsp;}</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Some(rm')&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;rm_3b&nbsp;=&nbsp;&nbsp;encdec_rounding_mode(rm');<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 65%)">let&nbsp;(fflags,&nbsp;rd_val_S)&nbsp;=&nbsp;riscv_f32roundToInt(rm_3b,&nbsp;rs1_val_S,&nbsp;true);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F_S(rd)&nbsp;=&nbsp;rd_val_S;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
&nbsp;&nbsp;}</span><br>
}</span><br>
<br>
/*&nbsp;FROUND.D&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FROUND_D&nbsp;:&nbsp;(regidx,&nbsp;rounding_mode,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FROUND_D(rs1,&nbsp;rm,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveDExt()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b010_0001&nbsp;@&nbsp;0b00100&nbsp;@&nbsp;rs1&nbsp;@&nbsp;encdec_rounding_mode(rm)&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 75%)">haveDExt()&nbsp;&&nbsp;haveZfa()</span></span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FROUND_D(rs1,&nbsp;rm,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fround.d&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;frm_mnemonic(rm)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FROUND_D(rs1,&nbsp;rm,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_D&nbsp;=&nbsp;F(rs1);<br>
<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">match&nbsp;(select_instr_or_fcsr_rm(rm))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;None()&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;handle_illegal();&nbsp;RETIRE_FAIL&nbsp;}</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Some(rm')&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;rm_3b&nbsp;=&nbsp;&nbsp;encdec_rounding_mode(rm');<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 65%)">let&nbsp;(fflags,&nbsp;rd_val_D)&nbsp;=&nbsp;riscv_f64roundToInt(rm_3b,&nbsp;rs1_val_D,&nbsp;false);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F(rd)&nbsp;=&nbsp;rd_val_D;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
&nbsp;&nbsp;}</span><br>
}</span><br>
<br>
/*&nbsp;FROUNDNX.D&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FROUNDNX_D&nbsp;:&nbsp;(regidx,&nbsp;rounding_mode,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FROUNDNX_D(rs1,&nbsp;rm,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveDExt()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b010_0001&nbsp;@&nbsp;0b00101&nbsp;@&nbsp;rs1&nbsp;@&nbsp;encdec_rounding_mode(rm)&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 75%)">haveDExt()&nbsp;&&nbsp;haveZfa()</span></span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FROUNDNX_D(rs1,&nbsp;rm,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;froundnx.d&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;frm_mnemonic(rm)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FROUNDNX_D(rs1,&nbsp;rm,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_D&nbsp;=&nbsp;F_D(rs1);<br>
<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">match&nbsp;(select_instr_or_fcsr_rm(rm))&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;None()&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{&nbsp;handle_illegal();&nbsp;RETIRE_FAIL&nbsp;}</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;Some(rm')&nbsp;=&gt;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;rm_3b&nbsp;=&nbsp;&nbsp;encdec_rounding_mode(rm');<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 65%)">let&nbsp;(fflags,&nbsp;rd_val_D)&nbsp;=&nbsp;riscv_f64roundToInt(rm_3b,&nbsp;rs1_val_D,&nbsp;true);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F_D(rd)&nbsp;=&nbsp;rd_val_D;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
&nbsp;&nbsp;}</span><br>
}</span><br>
<br>
/*&nbsp;FMVH.X.D&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FMVH_X_D&nbsp;:&nbsp;(regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;&nbsp;&nbsp;=&nbsp;RISCV_FMVH_X_D(rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveDExt()&nbsp;&&nbsp;haveZfa()&nbsp;&&nbsp;in32BitMode()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b111_0001&nbsp;@&nbsp;0b00001&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b000&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveDExt()&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 75%)">haveZfa()&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 70%)">in32BitMode()</span></span></span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FMVH_X_D(rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fmvh.x.d&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FMVH_X_D(rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;F_D(rs1)[63..32];<br>
&nbsp;&nbsp;let&nbsp;rd_val_X&nbsp;:&nbsp;xlenbits&nbsp;=&nbsp;sign_extend(rs1_val_D);<br>
&nbsp;&nbsp;X(rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;rd_val_X;<br>
&nbsp;&nbsp;RETIRE_SUCCESS<br>
}</span><br>
<br>
/*&nbsp;FMVP.X.D&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FMVP_D_X&nbsp;:&nbsp;(regidx,&nbsp;regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FMVP_D_X(rs2,&nbsp;rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveDExt()&nbsp;&&nbsp;haveZfa()&nbsp;&&nbsp;in32BitMode()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b101_1001&nbsp;@&nbsp;rs2&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b000&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveDExt()&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 75%)">haveZfa()&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 70%)">in32BitMode()</span></span></span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FMVP_D_X(rs2,&nbsp;rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fmvp.d.x&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;reg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;reg_name(rs2)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(RISCV_FMVP_D_X(rs2,&nbsp;rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;X(rs1)[31..0];<br>
&nbsp;&nbsp;let&nbsp;rs2_val_X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;X(rs2)[31..0];<br>
<br>
&nbsp;&nbsp;/*&nbsp;Concatenate&nbsp;the&nbsp;two&nbsp;values&nbsp;using&nbsp;'@'&nbsp;operator&nbsp;*/<br>
&nbsp;&nbsp;/*&nbsp;e.g.&nbsp;*/<br>
&nbsp;&nbsp;/*&nbsp;&nbsp;&nbsp;rs1&nbsp;=&nbsp;0x01234567&nbsp;*/<br>
&nbsp;&nbsp;/*&nbsp;&nbsp;&nbsp;rs2&nbsp;=&nbsp;0x89abcdef&nbsp;*/<br>
&nbsp;&nbsp;/*&nbsp;&nbsp;&nbsp;rd&nbsp;&nbsp;=&nbsp;rs1&nbsp;@&nbsp;rs2&nbsp;=&gt;&nbsp;0x89abcdef01234567&nbsp;*/<br>
&nbsp;&nbsp;let&nbsp;rd_val_D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;rs2_val_X&nbsp;@&nbsp;rs1_val_X;<br>
<br>
&nbsp;&nbsp;F_D(rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;rd_val_D;<br>
&nbsp;&nbsp;RETIRE_SUCCESS<br>
}</span><br>
<br>
/*&nbsp;FLEQ.H&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FLEQ_H&nbsp;:&nbsp;(regidx,&nbsp;regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FLEQ_H(rs2,&nbsp;rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveZfh()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b101_0010&nbsp;@&nbsp;rs2&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b100&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveZfh()&nbsp;&&nbsp;haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FLEQ_H(rs2,&nbsp;rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fleq.h&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs2)<br>
<br>
function&nbsp;clause&nbsp;execute(RISCV_FLEQ_H(rs2,&nbsp;rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_H&nbsp;=&nbsp;F_H(rs1);<br>
&nbsp;&nbsp;let&nbsp;rs2_val_H&nbsp;=&nbsp;F_H(rs2);<br>
<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;(fflags,&nbsp;rd_val)&nbsp;:&nbsp;(bits_fflags,&nbsp;bool)&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;riscv_f16Le_quiet&nbsp;&nbsp;&nbsp;(rs1_val_H,&nbsp;rs2_val_H);<br>
<br>
&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;X(rd)&nbsp;=&nbsp;zero_extend(bool_to_bits(rd_val));<br>
&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
}</span><br>
<br>
/*&nbsp;FLTQ.H&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FLTQ_H&nbsp;:&nbsp;(regidx,&nbsp;regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FLTQ_H(rs2,&nbsp;rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveZfh()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b101_0010&nbsp;@&nbsp;rs2&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b101&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveZfh()&nbsp;&&nbsp;haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FLTQ_H(rs2,&nbsp;rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fltq.h&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs2)<br>
<br>
function&nbsp;clause&nbsp;execute(RISCV_FLTQ_H(rs2,&nbsp;rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_H&nbsp;=&nbsp;F_H(rs1);<br>
&nbsp;&nbsp;let&nbsp;rs2_val_H&nbsp;=&nbsp;F_H(rs2);<br>
<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;(fflags,&nbsp;rd_val)&nbsp;:&nbsp;(bits_fflags,&nbsp;bool)&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;riscv_f16Lt_quiet&nbsp;&nbsp;&nbsp;(rs1_val_H,&nbsp;rs2_val_H);<br>
<br>
&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;X(rd)&nbsp;=&nbsp;zero_extend(bool_to_bits(rd_val));<br>
&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
}</span><br>
<br>
/*&nbsp;FLEQ.S&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FLEQ_S&nbsp;:&nbsp;(regidx,&nbsp;regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FLEQ_S(rs2,&nbsp;rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">0b101_0000&nbsp;@&nbsp;rs2&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b100&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FLEQ_S(rs2,&nbsp;rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fleq.s&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs2)<br>
<br>
function&nbsp;clause&nbsp;execute(RISCV_FLEQ_S(rs2,&nbsp;rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_S&nbsp;=&nbsp;F_S(rs1);<br>
&nbsp;&nbsp;let&nbsp;rs2_val_S&nbsp;=&nbsp;F_S(rs2);<br>
<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;(fflags,&nbsp;rd_val)&nbsp;:&nbsp;(bits_fflags,&nbsp;bool)&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;riscv_f32Le_quiet&nbsp;&nbsp;&nbsp;(rs1_val_S,&nbsp;rs2_val_S);<br>
<br>
&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;X(rd)&nbsp;=&nbsp;zero_extend(bool_to_bits(rd_val));<br>
&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
}</span><br>
<br>
/*&nbsp;FLTQ.S&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FLTQ_S&nbsp;:&nbsp;(regidx,&nbsp;regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FLTQ_S(rs2,&nbsp;rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">0b101_0000&nbsp;@&nbsp;rs2&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b101&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FLTQ_S(rs2,&nbsp;rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fltq.s&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs2)<br>
<br>
function&nbsp;clause&nbsp;execute(RISCV_FLTQ_S(rs2,&nbsp;rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_S&nbsp;=&nbsp;F_S(rs1);<br>
&nbsp;&nbsp;let&nbsp;rs2_val_S&nbsp;=&nbsp;F_S(rs2);<br>
<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;(fflags,&nbsp;rd_val)&nbsp;:&nbsp;(bits_fflags,&nbsp;bool)&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;riscv_f32Lt_quiet&nbsp;&nbsp;&nbsp;(rs1_val_S,&nbsp;rs2_val_S);<br>
<br>
&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;X(rd)&nbsp;=&nbsp;zero_extend(bool_to_bits(rd_val));<br>
&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
}</span><br>
<br>
<br>
/*&nbsp;FLEQ.D&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FLEQ_D&nbsp;:&nbsp;(regidx,&nbsp;regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FLEQ_D(rs2,&nbsp;rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveDExt()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b101_0001&nbsp;@&nbsp;rs2&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b100&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveDExt()&nbsp;&&nbsp;haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FLEQ_D(rs2,&nbsp;rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fleq.d&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs2)<br>
<br>
function&nbsp;clause&nbsp;execute(RISCV_FLEQ_D(rs2,&nbsp;rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_D&nbsp;=&nbsp;F_D(rs1);<br>
&nbsp;&nbsp;let&nbsp;rs2_val_D&nbsp;=&nbsp;F_D(rs2);<br>
<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;(fflags,&nbsp;rd_val)&nbsp;:&nbsp;(bits_fflags,&nbsp;bool)&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;riscv_f64Le_quiet&nbsp;&nbsp;&nbsp;(rs1_val_D,&nbsp;rs2_val_D);<br>
<br>
&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;X(rd)&nbsp;=&nbsp;zero_extend(bool_to_bits(rd_val));<br>
&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
}</span><br>
<br>
/*&nbsp;FLTQ.D&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FLTQ_D&nbsp;:&nbsp;(regidx,&nbsp;regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FLTQ_D(rs2,&nbsp;rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveDExt()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b101_0001&nbsp;@&nbsp;rs2&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b101&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveDExt()&nbsp;&&nbsp;haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FLTQ_D(rs2,&nbsp;rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fltq.d&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;freg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs2)<br>
<br>
function&nbsp;clause&nbsp;execute(RISCV_FLTQ_D(rs2,&nbsp;rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_D&nbsp;=&nbsp;F_D(rs1);<br>
&nbsp;&nbsp;let&nbsp;rs2_val_D&nbsp;=&nbsp;F_D(rs2);<br>
<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;(fflags,&nbsp;rd_val)&nbsp;:&nbsp;(bits_fflags,&nbsp;bool)&nbsp;=<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;riscv_f64Lt_quiet&nbsp;&nbsp;&nbsp;(rs1_val_D,&nbsp;rs2_val_D);<br>
<br>
&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;X(rd)&nbsp;=&nbsp;zero_extend(bool_to_bits(rd_val));<br>
&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
}</span><br>
<br>
/*&nbsp;FCVTMOD.W.D&nbsp;*/<br>
<br>
/*<br>
&nbsp;*&nbsp;Implement&nbsp;float64&nbsp;to&nbsp;int32&nbsp;conversion&nbsp;without&nbsp;saturation,&nbsp;the<br>
&nbsp;*&nbsp;result&nbsp;is&nbsp;supplied&nbsp;modulo&nbsp;2^32.<br>
&nbsp;*/<br>
val&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fcvtmod_helper&nbsp;:&nbsp;bits(64)&nbsp;-&gt;&nbsp;(bits(5),&nbsp;bits(32))<br>
function&nbsp;fcvtmod_helper(x64)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;(sign,&nbsp;exp,&nbsp;mant)&nbsp;=&nbsp;fsplit_D(x64);<br>
<br>
&nbsp;&nbsp;/*&nbsp;Detect&nbsp;the&nbsp;non-normal&nbsp;cases&nbsp;*/<br>
&nbsp;&nbsp;let&nbsp;is_subnorm&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 70%)">exp&nbsp;==&nbsp;zeros()&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 65%)">mant&nbsp;!=&nbsp;zeros()</span></span>;<br>
&nbsp;&nbsp;let&nbsp;is_zero&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 70%)">exp&nbsp;==&nbsp;zeros()&nbsp;&&nbsp;<span style="background-color: hsl(0, 85%, 65%)">mant&nbsp;==&nbsp;zeros()</span></span>;<br>
&nbsp;&nbsp;let&nbsp;is_nan_or_inf&nbsp;=&nbsp;exp&nbsp;==&nbsp;ones();<br>
<br>
&nbsp;&nbsp;/*&nbsp;For&nbsp;normal&nbsp;numbers,&nbsp;the&nbsp;mantissa&nbsp;and&nbsp;exponent&nbsp;use&nbsp;special&nbsp;encoding&nbsp;*/<br>
&nbsp;&nbsp;let&nbsp;true_mant&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0b1&nbsp;@&nbsp;mant;&nbsp;&nbsp;/*&nbsp;concatenate&nbsp;with&nbsp;the&nbsp;implicit&nbsp;bit&nbsp;*/<br>
&nbsp;&nbsp;let&nbsp;true_exp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;unsigned(exp)&nbsp;-&nbsp;1023;&nbsp;&nbsp;&nbsp;/*&nbsp;undo&nbsp;the&nbsp;offset-binary&nbsp;*/<br>
<br>
&nbsp;&nbsp;/*<br>
&nbsp;&nbsp;&nbsp;*&nbsp;Detect&nbsp;the&nbsp;trivial&nbsp;cases&nbsp;for&nbsp;normal&nbsp;numbers.<br>
&nbsp;&nbsp;&nbsp;*<br>
&nbsp;&nbsp;&nbsp;*&nbsp;While&nbsp;is_too_large&nbsp;could&nbsp;subsume&nbsp;is_nan_or_inf,&nbsp;and&nbsp;is_too_small<br>
&nbsp;&nbsp;&nbsp;*&nbsp;cound&nbsp;subsume&nbsp;is_subnorm,&nbsp;we&nbsp;deliberately&nbsp;enumerate&nbsp;these<br>
&nbsp;&nbsp;&nbsp;*&nbsp;separately&nbsp;as&nbsp;is_too_large/is_too_small&nbsp;operate&nbsp;on&nbsp;normal<br>
&nbsp;&nbsp;&nbsp;*&nbsp;numbers.<br>
&nbsp;&nbsp;&nbsp;*/<br>
&nbsp;&nbsp;let&nbsp;is_too_large&nbsp;&nbsp;=&nbsp;true_exp&nbsp;&gt;=&nbsp;84;&nbsp;&nbsp;/*&nbsp;bits&nbsp;will&nbsp;be&nbsp;'multiplied'&nbsp;out&nbsp;*/<br>
&nbsp;&nbsp;let&nbsp;is_too_small&nbsp;&nbsp;=&nbsp;true_exp&nbsp;&lt;&nbsp;&nbsp;0;&nbsp;&nbsp;&nbsp;/*&nbsp;bits&nbsp;will&nbsp;be&nbsp;'divided'&nbsp;out&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 70%)">if&nbsp;is_zero&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 65%)">(zeros(),&nbsp;&nbsp;zeros())</span><br>
&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 65%)">if&nbsp;is_subnorm&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 60%)">(nxFlag(),&nbsp;zeros())</span><br>
&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 60%)">if&nbsp;is_nan_or_inf&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 55%)">(nvFlag(),&nbsp;zeros())</span><br>
&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 55%)">if&nbsp;is_too_large&nbsp;&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 50%)">(nvFlag(),&nbsp;zeros())</span><br>
&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 50%)">if&nbsp;is_too_small&nbsp;&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 45%)">(nxFlag(),&nbsp;zeros())</span><br>
&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 45%)">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Calculate&nbsp;the&nbsp;low&nbsp;32&nbsp;bits&nbsp;of&nbsp;the&nbsp;integer&nbsp;value&nbsp;from&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;binary64&nbsp;floating-point&nbsp;number&nbsp;and&nbsp;return&nbsp;them&nbsp;together&nbsp;with&nbsp;an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;indicator&nbsp;whether&nbsp;a&nbsp;NV&nbsp;(overflow)&nbsp;or&nbsp;NX&nbsp;(inexact)&nbsp;exceptions&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;to&nbsp;be&nbsp;raised.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Perform&nbsp;the&nbsp;exponentation&nbsp;on&nbsp;the&nbsp;fixed-point&nbsp;mantissa&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract&nbsp;the&nbsp;integer&nbsp;part&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;fixedpoint&nbsp;:&nbsp;bits(84)&nbsp;=&nbsp;zero_extend(true_mant)&nbsp;&lt;&lt;&nbsp;true_exp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;integer&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;fixedpoint[83..52];<br>
&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;fractional&nbsp;=&nbsp;fixedpoint[51..0];<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Apply&nbsp;the&nbsp;sign&nbsp;bit&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;result&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 40%)">if&nbsp;sign&nbsp;==&nbsp;0b1&nbsp;then&nbsp;<span style="background-color: hsl(0, 85%, 35%)">~(integer)&nbsp;+&nbsp;1</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 35%)">integer</span></span>;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Raise&nbsp;FP&nbsp;exception&nbsp;flags,&nbsp;honoring&nbsp;the&nbsp;precedence&nbsp;of&nbsp;nV&nbsp;&gt;&nbsp;nX&nbsp;*/<br>
&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;flags&nbsp;:&nbsp;bits(5)&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 40%)">if&nbsp;(true_exp&nbsp;&gt;&nbsp;31)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;nvFlag()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;<span style="background-color: hsl(0, 85%, 35%)">if&nbsp;(fractional&nbsp;!=&nbsp;zeros())&nbsp;then&nbsp;nxFlag()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zeros()</span></span>;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;(flags,&nbsp;result)<br>
&nbsp;&nbsp;}</span></span></span></span></span></span></span><br>
}</span><br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;RISCV_FCVTMOD_W_D&nbsp;:&nbsp;(regidx,&nbsp;regidx)<br>
<br>
/*&nbsp;We&nbsp;need&nbsp;rounding&nbsp;mode&nbsp;to&nbsp;be&nbsp;explicitly&nbsp;specified&nbsp;to&nbsp;RTZ(0b001)&nbsp;*/<br>
mapping&nbsp;clause&nbsp;encdec&nbsp;=&nbsp;RISCV_FCVTMOD_W_D(rs1,&nbsp;rd)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;haveDExt()&nbsp;&&nbsp;haveZfa()<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">0b110_0001&nbsp;@&nbsp;0b01000&nbsp;@&nbsp;rs1&nbsp;@&nbsp;0b001&nbsp;@&nbsp;rd&nbsp;@&nbsp;0b101_0011</span>&nbsp;&nbsp;if&nbsp;<span style="background-color: hsl(0, 85%, 80%)">haveDExt()&nbsp;&&nbsp;haveZfa()</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;RISCV_FCVTMOD_W_D(rs1,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;&quot;fcvtmod.w.d&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;sep()&nbsp;^&nbsp;freg_name(rs1)<br>
<br>
function&nbsp;clause&nbsp;execute(RISCV_FCVTMOD_W_D(rs1,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rs1_val_D&nbsp;=&nbsp;F_D(rs1);<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 75%)">let&nbsp;(fflags,&nbsp;rd_val)&nbsp;=&nbsp;fcvtmod_helper(rs1_val_D);<br>
&nbsp;&nbsp;accrue_fflags(fflags);<br>
&nbsp;&nbsp;X(rd)&nbsp;=&nbsp;sign_extend(rd_val);<br>
&nbsp;&nbsp;RETIRE_SUCCESS</span><br>
}</span><br>
</code>
</body>
</html>
